[
  {
    "path": "posts/2025-01-05-random_forest_sup_classific_r/",
    "title": "Supervised Image Classification with Random Forest in R",
    "description": "In this post, I demonstrate how to load and visualize georeferenced spatial data and perform a supervised random forest classification using R.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2025-04-29",
    "categories": [
      "Machine Learning",
      "GIS",
      "R"
    ],
    "contents": "\r\nQuick intro and backgroung\r\nMachine learning has been one of my favorite topics over the last few years, as I have been using approaches such as predictive models and cluster analysis. However, these are just a subset of the machine learning potential. With that in mind, I decided to take a step forward and learn what I believe to be the next topic in my field of expertise: Supervised Image Classification. This is a highly effective method for automatically identifying features in an image, such as forest patches, crops, urban areas, water bodies, and so on. In a few words, the way it works is by telling an algorithm how each of these features looks like and then it search in the images for patterns on pixel aggregation that resemble the patterns of the input feature.\r\nI’ve been trying to perform supervised image classification of satellite images in R for a while, and I’ve always stumbled upon conceptual problems, such as: How to do it? Which parameters to use for validation? Which packages and functions?\r\nEven though this has been a very popular technique across remote sensing people and is widely available to learn on the internet, it is definitely easier to find tutorials for Python or software such as ArcGIS and QGIS than it is for R. I’m not saying there aren’t tutorials in R out there, in fact, the content available here is from those tutorials, but I found this information very spread across a few blogs and a bit scarce.\r\nSo, after struggling to find a tutorial that I liked, I decided to create my own tutorial, based on what I could find online, while also adding my own touch.\r\nThis is my attempt to learn how to perform supervised image classification, using the random forest algorithm. I’m pretty sure there are many other ways to carry it out, and definitely more efficient ones, but this is what I could get so far and I believe that will suite a large audience.\r\nFor the record, this tutorial is a compilation of what is available in following blogs and tutorials:\r\nWUR Geoscripting\r\nCornell University\r\nUniversity of Cincinnati\r\nRPubs\r\nRPubs\r\nR-bloggers\r\nR Spatial\r\nValentin Stefan\r\nUrban Spatial\r\nAbout Random Forest\r\nRandom Forest is a supervised nonlinear algorithm approach that allows for classifying a dataset into categories or classes using classification or regression techniques. It is a technique based on the approach of Decision Trees, with a difference in that Random Forest uses a collection of Decision Trees instead of a single one, therefore providing more flexibility, accuracy, and ease of access in the output. Decision trees have a limitation because they lack accuracy and show low accuracy during the testing phase due to the process called over-fitting (that here can be understood as a model that matches the training set so closely that it fails to make correct predictions on new data). Random Forest, on the other hand, forests help to reduce tree correlation by injecting more randomness into the tree-growing process. It searches for the best feature from a random subset of features, providing more randomness to the model and resulting in a better and accurate model. Being able to randomize the data and come up with random samples is important in building a model because it creates variation, minimizes bias, creates equivalent treatment groups, and, therefore, increases the model’s potential for generalizations.\r\nRandom Forest and Decision Trees both have a tree-like structure made up of nodes and branches. At each node, the data gets split based on one of the input features, creating two or more branches. This splitting continues at the next nodes, leading to even more branches that help break down the original data into smaller parts. The process goes on until you reach a point where most of the data in a node belongs to the same class, making further splits unnecessary.\r\nThe very first split happens at the root node, while the final nodes, called leaves, are linked to specific class labels. The routes you take from the root to each leaf outline the rules for classifying the data. Check this out for a deep explanation.\r\nSource\r\nRandom Forest uses the bagging method in decision trees and, as a result, increases the accuracy of the learning model. Bagging trees introduces a random component into the tree-building process by building many trees on bootstrapped copies of the training data. Bagging then aggregates the predictions across all the trees; this aggregation reduces the variance of the overall procedure and results in improved predictive performance.\r\nSimply put, bagging (short for bootstrap aggregating) is directly derived from bootstrapping. It uses the concept of bootstrapping—sampling with replacement—to generate multiple datasets from the original training set. Bagging extends bootstrapping by applying it in the context of model training and prediction aggregation, turning a statistical resampling method into a powerful ensemble learning technique. Bootstrapping and bagging share a common foundation in that both involve sampling with replacement from the original training data to create new datasets.\r\nSource\r\nBootstrapping is primarily a resampling technique used to estimate variability or confidence in statistical measures by generating multiple bootstrap samples. Bagging builds on this concept by using each of these bootstrap samples to train separate models, often referred to as base learners. While bootstrapping focuses solely on data generation, bagging takes it further by combining the predictions from these multiple models to form a more stable and accurate overall prediction. The main goal of bagging is to reduce variance and minimize overfitting in regression and classification tasks, making it a key ensemble method in machine learning, whereas bootstrapping itself is not directly concerned with model performance.\r\nSource\r\nFor more information:\r\nRandom Forest Approach for Classification in R Programming\r\nHands-On Machine Learning with R\r\nFrom a Single Decision Tree to a Random Forest\r\nThe Three Bs: Bootstrapping, Bagging, & Boosting!\r\nWhat is Bagging? How do you perform bagging and what are its advantages?\r\nThat said, lets get started!!!\r\nIn a few words, my goal here is to use a drone optical imagery I took during my fieldwork in Brazil and make a model able to identify what is Bare Soil, Grass, and Trees on it. This image was taken in Chapada Dos Veadeiros National Park, Brazil.\r\nI broke down the workflow of this tutorial into six main steps, along with some intermediate ones, a #BONUS . This step-by-step approach really helped me grasp how the classification process works.\r\n1. Installing and Loading the Packages\r\n2. Getting the Data Ready Getting the Data Ready\r\n2.1. Loading the Datasets\r\n2.2. Checking up the Coordinate Reference System\r\n2.3. Checking up the Data Information and Structure\r\n2.4. Cropping the Raster Image\r\n2.5. Renaming and Selecting the Bands\r\n2.6. Visualizing the Raster and Polygons\r\n3. Training the Model\r\n3.1. Creating Vegetation Indexes\r\n3.2. Renaming, Visualizing, and Checking Vegetation Index Values\r\n3.3. Scaling Band Values and Remaking Vegetation Indexes\r\n3.4. Renaming, Visualizing, and Checking Vegetation Index Values\r\n3.5. Extracting the Pixel Values for the Training Data and Assigning Vegetation Classes\r\n3.6. Visualizing the Vegetation Classes Distribution of Training Data\r\n4. Evaluating the Model\r\n5. Classifying the Image\r\n6. Exploring the Results\r\n7. BONUS\r\nIf you want to follow and try each step described here by yourself please download the data. HERE.\r\nIf you want to\r\nHands to Work\r\nTo get started, the very first step is to load the necessary packages (assuming you already have R installed on your machine). We’ll utilize raster and terra for handling raster data, sf for managing spatial data like points and polygons, and tidyverse for data tabulation and visualization. Additionally, we’ll rely on caret for implementing random forest methods, and use mapview along with leaflet to plot and visualize both the polygons and raster images. While these are the primary packages we’ll need, I’ll also incorporate some others to further explore the results of our image classification.\r\n1. Installing and Loading the Packages\r\nBegin by installing and loading the necessary packages, along with the additional ones you will need. I prefer a setup this syntax that first checks if a package is already installed; if it isn’t, it installs the package and then loads it afterward.\r\n\r\n\r\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\r\nif (!require(\"terra\")) install.packages(\"terra\")\r\nif (!require(\"raster\")) install.packages(\"raster\")\r\nif (!require(\"sf\")) install.packages(\"sf\")\r\nif (!require(\"sp\")) install.packages(\"sp\")\r\nif (!require(\"caret\")) install.packages(\"caret\")\r\nif (!require(\"mapview\")) install.packages(\"mapview\")\r\nif (!require(\"leaflet\")) install.packages(\"leaflet\")\r\nif (!require(\"ggridges\")) install.packages(\"ggridges\")\r\nif (!require(\"randomForest\")) install.packages(\"randomForest\")\r\nif (!require(\"DiagrammeR\")) install.packages(\"DiagrammeR\")\r\nif (!require(\"tmap\")) install.packages(\"tmap\")\r\nif (!require(\"leafem\")) install.packages(\"leafem\")\r\nif (!require(\"plotly\")) install.packages(\"plotly\")\r\n\r\n\r\n2. Getting the Data Ready\r\n2.1 Loading the datasets\r\nLet’s load all the files and information we will need later on:\r\nwoody_savanna.tif: this is a drone image that I took during my master’s. It has 6 stacked bands: Blue, Green, Red, Red Edge, Near Infrared, and a Mask in this respective order. The mask band represents pixels that could not be identified during the image compilation (to make this image, I needed to use Agisoft Metashape).\r\nsampled_area.shp: this is a polygon shapefile that we will use to clip the image and restrict it to a area of 100m x 100m (therefore removing the edges of the image).\r\ntrain_features.shp: this file contains the features we will use to train our Random Forest model. It contains three classes: Bare Soil, Grass, and Trees.\r\nIn this step we load the files and make sure to rename their classes using a standard nomenclature.\r\n\r\n\r\nraw_raster <- terra::rast(\"woody_savanna.tif\") |> \r\n  terra::aggregate(fact=2) # original pixel size = 10.8cm, new pixel size 21.6cm (old * 2)\r\nraw_raster\r\n\r\nclass       : SpatRaster \r\ndimensions  : 759, 782, 6  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63899, -47.63742, -14.0681, -14.06662  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       : woody~nna_1, woody~nna_2, woody~nna_3, woody~nna_4, woody~nna_5, woody~nna_6 \r\nmin values  :        2.89,       16.26,       16.97,       24.26,      117.52,           0 \r\nmax values  :    65535.00,    65535.00,    65535.00,    65535.00,    65535.00,       65535 \r\n\r\nplot(raw_raster)\r\n\r\n\r\nsampled_area <- terra::vect(\"sampled_area.shp\")\r\nsampled_area\r\n\r\n class       : SpatVector \r\n geometry    : polygons \r\n dimensions  : 1, 1  (geometries, attributes)\r\n extent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\n source      : sampled_area.shp\r\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \r\n names       :    Id\r\n type        : <int>\r\n values      :     0\r\n\r\nplot(sampled_area)\r\n\r\n\r\ntrain_features <- sf::st_read(\"train_features.shp\")\r\n\r\nReading layer `train_features' from data source \r\n  `C:\\Users\\Yuri\\Desktop\\souzayuri.github.io\\_posts\\2025-01-05-random_forest_sup_classific_r\\train_features.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\n\r\ntrain_features\r\n\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\nFirst 10 features:\r\n   Classcode Classname Classvalue RED GREEN BLUE Count   Shape_Leng\r\n1       <NA>     grass          1 255   255  190 16651 0.0002222801\r\n2       <NA>     grass          1 255   255  190 13637 0.0002344464\r\n3       <NA>     grass          1 255   255  190  9875 0.0001834221\r\n4       <NA>     grass          1 255   255  190 11577 0.0002181070\r\n5       <NA>     grass          1 255   255  190 10001 0.0002419869\r\n6       <NA>     grass          1 255   255  190  7684 0.0001557914\r\n7       <NA>     grass          1 255   255  190 16943 0.0002274619\r\n8       <NA>     grass          1 255   255  190  6667 0.0001647991\r\n9       <NA>     grass          1 255   255  190  2964 0.0001024218\r\n10      <NA>     grass          1 255   255  190  4238 0.0001182262\r\n     Shape_Area                       geometry\r\n1  3.318277e-09 POLYGON ((-47.63788 -14.066...\r\n2  2.717603e-09 POLYGON ((-47.63782 -14.067...\r\n3  1.967932e-09 POLYGON ((-47.63772 -14.066...\r\n4  2.307135e-09 POLYGON ((-47.63781 -14.066...\r\n5  1.993210e-09 POLYGON ((-47.63793 -14.067...\r\n6  1.531386e-09 POLYGON ((-47.63788 -14.067...\r\n7  3.376445e-09 POLYGON ((-47.63793 -14.066...\r\n8  1.328762e-09 POLYGON ((-47.63768 -14.067...\r\n9  5.907468e-10 POLYGON ((-47.63769 -14.066...\r\n10 8.447055e-10 POLYGON ((-47.63785 -14.066...\r\n\r\n# renaming their classes accordingly to keep it consistent across upcoming analyses.\r\ntrain_features_clnd <- sf::st_read(\"train_features.shp\") |> \r\n  dplyr::rename(OBJECTID = \"Classcode\",\r\n                Class = \"Classname\") |> \r\n  dplyr::mutate(OBJECTID = as.character(1:46),\r\n                Class = as.factor(Class),\r\n                Code = as.numeric(Class)) |> \r\n  dplyr::select(c(1:3))\r\n\r\nReading layer `train_features' from data source \r\n  `C:\\Users\\Yuri\\Desktop\\souzayuri.github.io\\_posts\\2025-01-05-random_forest_sup_classific_r\\train_features.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\n\r\ntrain_features_clnd\r\n\r\nSimple feature collection with 46 features and 3 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\nFirst 10 features:\r\n   OBJECTID Class Classvalue                       geometry\r\n1         1 grass          1 POLYGON ((-47.63788 -14.066...\r\n2         2 grass          1 POLYGON ((-47.63782 -14.067...\r\n3         3 grass          1 POLYGON ((-47.63772 -14.066...\r\n4         4 grass          1 POLYGON ((-47.63781 -14.066...\r\n5         5 grass          1 POLYGON ((-47.63793 -14.067...\r\n6         6 grass          1 POLYGON ((-47.63788 -14.067...\r\n7         7 grass          1 POLYGON ((-47.63793 -14.066...\r\n8         8 grass          1 POLYGON ((-47.63768 -14.067...\r\n9         9 grass          1 POLYGON ((-47.63769 -14.066...\r\n10       10 grass          1 POLYGON ((-47.63785 -14.066...\r\n\r\nplot(train_features_clnd)\r\n\r\n\r\n\r\n2.2. Checking up the Coordinate Reference System\r\nWe also check their CRS (coordinate reference system) and ensure they all have the same coordinate properties.\r\n\r\n\r\n# Compare CRS, if they are different make them equal\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- sf::st_transform(train_features_clnd, crs = terra::crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are different. Therefore, reprojecting to match raster projection...\"\r\n\r\n# Compare CRS again to ensure they above function worked.\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- sf::st_transform(train_features_clnd, crs = terra::crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are identical!\"\r\n\r\n2.3. Checking up the data information and structure\r\nLet’s check the training data and the number of features, which has a total of 46.\r\nHere we can see that every training class has 15 features/polygons (grass has 16 because I added one more by mistake).\r\n\r\n\r\nglimpse(train_features_clnd)\r\n\r\nRows: 46\r\nColumns: 4\r\n$ OBJECTID   <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"…\r\n$ Class      <fct> grass, grass, grass, grass, grass, grass, grass, …\r\n$ Classvalue <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2…\r\n$ geometry   <POLYGON [°]> POLYGON ((-47.63788 -14.066..., POLYGON (…\r\n\r\nsummary(train_features_clnd)\r\n\r\n   OBJECTID               Class      Classvalue             geometry \r\n Length:46          bare_soil:15   Min.   :1.000   POLYGON      :46  \r\n Class :character   grass    :16   1st Qu.:1.000   epsg:4326    : 0  \r\n Mode  :character   trees    :15   Median :2.000   +proj=long...: 0  \r\n                                   Mean   :1.978                     \r\n                                   3rd Qu.:3.000                     \r\n                                   Max.   :3.000                     \r\n\r\n2.4. Cropping the raster image\r\nNow that we have standardized the data, we will crop the raster image to the 100m x 100m grid limit.\r\nWe also want to check the CRS and make sure it is correct, and plot each of these bands side-by-side.\r\n\r\n\r\ncropped_raster <- terra::crop(raw_raster, sampled_area)\r\ncropped_raster\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 6  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       : woody~nna_1, woody~nna_2, woody~nna_3, woody~nna_4, woody~nna_5, woody~nna_6 \r\nmin values  :        2.89,       16.26,       16.97,       24.26,      165.85,       65535 \r\nmax values  :     3139.13,     7843.21,     9368.55,    17875.35,    20952.24,       65535 \r\n\r\nplot(cropped_raster)\r\n\r\n\r\n# Compare CRS\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- terra::project(train_features_clnd, crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are identical!\"\r\n\r\n2.5. Renaming and Selecting the Bands\r\nSo far, we have ensured the consistency of the image coordinates and defined the grid area we want to work on.\r\nNow, let’s rename the bands according to their respective spectral signatures. This will help us later identify which band is which.\r\nIn this step, I also removed the band MASK by only selecting the bands of interest according to their position in the bands list (1 to 5).\r\n\r\n\r\nnames(cropped_raster) <- c(\"Blue\",\"Green\",\"Red\",\"RE\",\"NIR\",\"MASK\")\r\nplot(cropped_raster)\r\n\r\n\r\ncropped_raster_bands <- cropped_raster[[1:5]]\r\nplot(cropped_raster_bands)\r\n\r\n\r\n\r\n2.6. Visualizing the Raster and Polygons\r\nNow that we have the raster with five bands and the polygons ready for training the model, let’s visualize our data. We’ll create a natural color composition. To do this we need to inform the position of the RGB bands of the raster image (that is why naming it before hand was important) and overlay it with each class represented by the polygons. For visualization, we will use mapview() because it’s interactive (just because we want some cool!!!).\r\n\r\n\r\ntrain_class_colors <- unique(train_features_clnd$Class) |> \r\n  as.data.frame() |>\r\n  dplyr::mutate(hex = c(grass = \"#ff7f00\",\r\n                        bare_soil = \"#e41a1c\",\r\n                        tree = \"#55eed1\"))\r\ntrain_class_colors\r\n\r\n  unique(train_features_clnd$Class)     hex\r\n1                             grass #ff7f00\r\n2                             trees #e41a1c\r\n3                         bare_soil #55eed1\r\n\r\nmapview::viewRGB(brick(cropped_raster_bands[[1:3]]), \r\n                 r = 3, g = 2, b = 1,\r\n                 map.types = c(\"Esri.WorldImagery\", \"OpenStreetMap\", \"OpenTopoMap\"),\r\n                 maxpixels =  866760,\r\n                 layer.name = \"RBG Image\") + \r\n  mapview::mapView(train_features_clnd, \r\n                   zcol = \"Class\", \r\n                   color = \"black\",  \r\n                   lwd = 2,\r\n                   col.regions = train_class_colors$hex,\r\n                   layer.name = \"Features\")\r\n\r\n\r\n\r\n3. Training the Model\r\nOne cool aspect of using optical imagery rasters with various bands is the ability to rearrange these bands to create new, informative images. To provide some context, the drone imagery we’re working with includes natural color RGB bands, which are part of the visible spectrum for humans, along with the Red Edge and Near-Infrared bands, which lie outside this spectrum. The latter two bands are particularly useful for highlighting vegetation characteristics, as plants reflect a significant amount of infrared light. This unique property makes infrared imagery an invaluable tool for analyzing vegetation, as it offers deeper insights into the state, health, vigor, and other attributes of plants that natural color imagery simply cannot reveal.\r\nNow that we have our raster image and training features prepared, let’s move on to the next step: using this raster image and bands to create various vegetation indexes. They will be stacked as bands and will be used to train the model, using the mapped polygons, and to predict the vegetation classes in the later steps of the classification. This process will improve the classification of the image by pinpointing pixel combinations that are more accurately representative of the specific vegetation characteristics we aim to map.\r\n3.1. Creating Vegetation Indexes\r\nWhen conducting image classification, it’s crucial to provide clear information that highlights the distinguishing features you’re mapping. In this section, we will focus on creating three widely used vegetation indexes in remote sensing: the NDVI (Normalized Difference Vegetation Index), the EVI (Enhanced Vegetation Index), and the SAVI (Soil Adjusted Vegetation Index). Each of these indexes interprets vegetation in unique ways, and we will utilize them alongside the spectral bands from the drone imagery to classify the image effectively.\r\nThis is a straightforward process that primarily involves utilizing the Red, Near Infrared, and Blue bands, along with a few predefined parameters. Each index has its own arithmetic equation, and we can identify these bands based on their positions within the raster. We will then plot these indexes side-by-side.\r\nCheck out below a table summarizing the similarity and differences among these indexes.\r\nFeature\r\nNDVI (Normalized Difference Vegetation Index)\r\nEVI (Enhanced Vegetation Index)\r\nSAVI (Soil Adjusted Vegetation Index)\r\nFormula\r\n(NIR - Red) / (NIR + Red)\r\n2.5 × (NIR - Red) / (NIR + 6 × Red - 7.5 × Blue + 1)\r\n((NIR - Red) / (NIR + Red + 0.5)) × (1 + 0.5)\r\nBands Used\r\nNIR, Red\r\nNIR, Red, Blue\r\nNIR, Red\r\nPurpose\r\nGeneral greenness/vegetation presence\r\nImproves sensitivity in high biomass areas\r\nAdjusts for soil background noise\r\nAdvantages\r\nSimple, widely used\r\nCorrects for atmospheric & canopy background effects\r\nBetter for areas with sparse vegetation or exposed soil\r\nLimitations\r\nSensitive to soil brightness and atmospheric conditions\r\nMore complex, needs Blue band\r\nRequires adjustment factor (L) based on soil type\r\nValue Range\r\n-1 to +1 (usually 0 to 0.8 in vegetated areas)\r\n-1 to +1 (typically 0 to 0.9 for vegetation)\r\n-1 to +1 (usually 0 to 0.7, depending on L and vegetation density)\r\n\r\n\r\nnir <- cropped_raster_bands[[5]]\r\nred <- cropped_raster_bands[[3]]\r\nblue <- cropped_raster_bands[[1]]\r\n\r\n# Check the range of your input bands\r\nprint(paste(\"NIR range:\", minmax(nir)))\r\n\r\n[1] \"NIR range: 165.850002288818\" \"NIR range: 20952.2397460938\"\r\n\r\nprint(paste(\"Red range:\", minmax(red)))\r\n\r\n[1] \"Red range: 16.9700002372265\" \"Red range: 9368.55017089844\"\r\n\r\nprint(paste(\"Blue range:\", minmax(blue)))\r\n\r\n[1] \"Blue range: 2.88999992236495\" \"Blue range: 3139.12994384766\"\r\n\r\ncropped_raster_bands_ndvi <- (nir - red) / (nir + red)\r\ncropped_raster_bands_ndvi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :         NIR \r\nmin value   : -0.08708532 \r\nmax value   :  0.95849029 \r\n\r\ncropped_raster_bands_evi <- 2.5 * ((nir - red) / (nir + (6 * red) - (7.5 * blue) + 1))\r\ncropped_raster_bands_evi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :       NIR \r\nmin value   : -8.517467 \r\nmax value   : 83.766299 \r\n\r\ncropped_raster_bands_savi <- ((nir - red) / (nir + red + 0.5)) * (1 + 0.5)\r\ncropped_raster_bands_savi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :        NIR \r\nmin value   : -0.1306091 \r\nmax value   :  1.4368568 \r\n\r\n# Create a red-to-green color palette\r\nred_to_green_palette <- colorRampPalette(c(\"darkred\", \"yellow\", \"darkgreen\"))\r\n# Lets visuallize them together\r\npar(mfrow = c(1, 3))\r\n\r\nplot(cropped_raster_bands_ndvi, main = \"NDVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_evi, main = \"EVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_savi, main = \"SAVI\", col = red_to_green_palette(100))\r\n\r\n\r\npar(mfrow = c(1, 1))\r\n\r\n\r\n3.2. Renaming, Visualizing, and Checking Vegetation Index Values\r\nLet’s stack these three indexes in our raster data so we can have more information to feed the model. After stacking the rasters containing the indexes with our main raster, we will notice that the new rasters are named as NIR. That is because the first spectral band we used in the above calculations was the NIR band. To avoid confusion between the NIR spectral band and the new rasters indexes, we will name them according to which index they represent.\r\n\r\n\r\ntrain_features_clnd_indexes <- c(cropped_raster_bands, \r\n                                 cropped_raster_bands_ndvi,\r\n                                 cropped_raster_bands_evi, \r\n                                 cropped_raster_bands_savi)\r\ntrain_features_clnd_indexes\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :    Blue,   Green,     Red,       RE,      NIR,         NIR, ... \r\nmin values  :    2.89,   16.26,   16.97,    24.26,   165.85, -0.08708532, ... \r\nmax values  : 3139.13, 7843.21, 9368.55, 17875.35, 20952.24,  0.95849029, ... \r\n\r\nnames(train_features_clnd_indexes) <- c(names(cropped_raster_bands),\"NDVI\", \"EVI\", \"SAVI\")\r\ntrain_features_clnd_indexes\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :    Blue,   Green,     Red,       RE,      NIR,        NDVI, ... \r\nmin values  :    2.89,   16.26,   16.97,    24.26,   165.85, -0.08708532, ... \r\nmax values  : 3139.13, 7843.21, 9368.55, 17875.35, 20952.24,  0.95849029, ... \r\n\r\nplot(train_features_clnd_indexes)\r\n\r\n\r\nsummary(train_features_clnd_indexes)\r\n\r\n      Blue             Green              Red         \r\n Min.   :   2.89   Min.   :  52.24   Min.   :  58.04  \r\n 1st Qu.: 384.11   1st Qu.:1156.35   1st Qu.:1209.77  \r\n Median : 528.55   Median :1651.34   Median :1781.48  \r\n Mean   : 556.88   Mean   :1654.48   Mean   :1883.19  \r\n 3rd Qu.: 704.35   3rd Qu.:2108.03   3rd Qu.:2453.26  \r\n Max.   :2919.83   Max.   :7528.84   Max.   :9368.55  \r\n       RE               NIR               NDVI         \r\n Min.   :  147.7   Min.   :  269.3   Min.   :-0.07994  \r\n 1st Qu.: 3228.9   1st Qu.: 3683.2   1st Qu.: 0.31428  \r\n Median : 4458.6   Median : 4960.7   Median : 0.47468  \r\n Mean   : 4603.5   Mean   : 5228.5   Mean   : 0.46199  \r\n 3rd Qu.: 5786.7   3rd Qu.: 6528.0   3rd Qu.: 0.61267  \r\n Max.   :16438.5   Max.   :19855.9   Max.   : 0.93235  \r\n      EVI                SAVI        \r\n Min.   :-0.07473   Min.   :-0.1199  \r\n 1st Qu.: 0.39774   1st Qu.: 0.4713  \r\n Median : 0.70507   Median : 0.7119  \r\n Mean   : 0.73613   Mean   : 0.6929  \r\n 3rd Qu.: 1.03850   3rd Qu.: 0.9189  \r\n Max.   :83.76630   Max.   : 1.3981  \r\n\r\n3.3. Scaling Band Values and Remaking Vegetation Indexes\r\nYou probably have noticed that the index values of NDVI, EVI, and SAVI range beyond the expected range of -1 to 1.\r\nThat is because we need to convert our raw band values to reflectance values between 0 and 1.\r\nThis conversion could have been done in past steps, but I wanted to present you with this common issue.\r\nTo convert, we will simply divide each band by 65535, the theoretical maximum value of my drone image (a 16-bit image).\r\nLet’s convert these numbers and redo what we have done in step 3.1. Creating Vegetation Indexes.\r\n\r\n\r\ncropped_raster_bands_scaled = cropped_raster_bands/ 65535\r\n\r\n\r\n# splitting the required bands\r\nnir <- cropped_raster_bands_scaled[[5]]\r\nred <- cropped_raster_bands_scaled[[3]]\r\nblue <- cropped_raster_bands_scaled[[1]]\r\n\r\n# Check the range of your input bands\r\nprint(paste(\"NIR range:\", minmax(nir)))\r\n\r\n[1] \"NIR range: 0.00253070881649223\" \"NIR range: 0.319710685070478\"  \r\n\r\nprint(paste(\"Red range:\", minmax(red)))\r\n\r\n[1] \"Red range: 0.000258945605206782\"\r\n[2] \"Red range: 0.142954912198038\"   \r\n\r\nprint(paste(\"Blue range:\", minmax(blue)))\r\n\r\n[1] \"Blue range: 4.40985720968177e-05\"\r\n[2] \"Blue range: 0.0479000525497468\"  \r\n\r\ncropped_raster_bands_ndvi_scaled <- (nir - red) / (nir + red)\r\ncropped_raster_bands_ndvi_scaled\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :         NIR \r\nmin value   : -0.08708532 \r\nmax value   :  0.95849029 \r\n\r\ncropped_raster_bands_evi_scaled <- 2.5 * ((nir - red) / (nir + (6 * red) - (7.5 * blue) + 1))\r\ncropped_raster_bands_evi_scaled\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :        NIR \r\nmin value   : -0.0196188 \r\nmax value   :  0.4756189 \r\n\r\ncropped_raster_bands_savi_scaled <- ((nir - red) / (nir + red + 0.5)) * (1 + 0.5)\r\ncropped_raster_bands_savi_scaled\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :         NIR \r\nmin value   : -0.02529499 \r\nmax value   :  0.48395901 \r\n\r\n# Create a red-to-green color palette\r\nred_to_green_palette <- colorRampPalette(c(\"darkred\", \"yellow\", \"darkgreen\"))\r\n# Lets visuallize them together\r\npar(mfrow = c(1, 3))\r\n\r\nplot(cropped_raster_bands_ndvi_scaled, main = \"NDVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_evi_scaled, main = \"EVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_savi_scaled, main = \"SAVI\", col = red_to_green_palette(100))\r\n\r\n\r\n\r\n3.4. Renaming, Visualizing, and Checking Vegetation Index Values\r\nIf you check the new values, you will see that they range from -1 to 1, therefore properly scaled down.\r\n\r\n\r\ntrain_features_clnd_indexes_scaled <- c(cropped_raster_bands_scaled, \r\n                                        cropped_raster_bands_ndvi_scaled,\r\n                                        cropped_raster_bands_evi_scaled, \r\n                                        cropped_raster_bands_savi_scaled)\r\ntrain_features_clnd_indexes_scaled\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :         Blue,        Green,          Red,           RE,         NIR,         NIR, ... \r\nmin values  : 4.409857e-05, 0.0002481117, 0.0002589456, 0.0003701839, 0.002530709, -0.08708532, ... \r\nmax values  : 4.790005e-02, 0.1196797144, 0.1429549122, 0.2727603586, 0.319710685,  0.95849029, ... \r\n\r\n# renaming the bands by using their position in the list\r\nnames(train_features_clnd_indexes_scaled) <- c(names(cropped_raster_bands_scaled),\"NDVI\", \"EVI\", \"SAVI\")\r\ntrain_features_clnd_indexes_scaled\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :         Blue,        Green,          Red,           RE,         NIR,        NDVI, ... \r\nmin values  : 4.409857e-05, 0.0002481117, 0.0002589456, 0.0003701839, 0.002530709, -0.08708532, ... \r\nmax values  : 4.790005e-02, 0.1196797144, 0.1429549122, 0.2727603586, 0.319710685,  0.95849029, ... \r\n\r\nplot(train_features_clnd_indexes_scaled)\r\n\r\n\r\nsummary(train_features_clnd_indexes_scaled)\r\n\r\n      Blue               Green                Red           \r\n Min.   :0.0000441   Min.   :0.0007971   Min.   :0.0008856  \r\n 1st Qu.:0.0058611   1st Qu.:0.0176447   1st Qu.:0.0184598  \r\n Median :0.0080652   Median :0.0251978   Median :0.0271837  \r\n Mean   :0.0084975   Mean   :0.0252458   Mean   :0.0287356  \r\n 3rd Qu.:0.0107477   3rd Qu.:0.0321666   3rd Qu.:0.0374343  \r\n Max.   :0.0445538   Max.   :0.1148827   Max.   :0.1429549  \r\n       RE                NIR                NDVI         \r\n Min.   :0.002254   Min.   :0.004109   Min.   :-0.07994  \r\n 1st Qu.:0.049271   1st Qu.:0.056202   1st Qu.: 0.31428  \r\n Median :0.068034   Median :0.075696   Median : 0.47468  \r\n Mean   :0.070244   Mean   :0.079781   Mean   : 0.46199  \r\n 3rd Qu.:0.088299   3rd Qu.:0.099611   3rd Qu.: 0.61267  \r\n Max.   :0.250836   Max.   :0.302982   Max.   : 0.93235  \r\n      EVI                SAVI         \r\n Min.   :-0.01902   Min.   :-0.02439  \r\n 1st Qu.: 0.05560   1st Qu.: 0.06694  \r\n Median : 0.09205   Median : 0.10844  \r\n Mean   : 0.10633   Mean   : 0.12251  \r\n 3rd Qu.: 0.14630   3rd Qu.: 0.16798  \r\n Max.   : 0.47562   Max.   : 0.48396  \r\n\r\n3.5. Extracting the Pixel Values for the Training Data and Assigning Vegetation Classes\r\nWith these images, we have everything we need to move forward, preparing the data that will be used to train and test our random forest model.\r\nLet’s start by extracting the pixel values for the features we mapped. We will later use these pixel values to train and test the model.\r\n\r\n\r\n# extracting the pixel information using the mapped features/polygons\r\ntrain_features_clnd_pxls <- extract(train_features_clnd_indexes_scaled, train_features_clnd)\r\nhead(train_features_clnd_pxls)\r\n\r\n  ID        Blue      Green        Red         RE        NIR\r\n1  1 0.006558328 0.02629480 0.03789761 0.06722560 0.06768292\r\n2  1 0.007127642 0.03018280 0.04512795 0.08374609 0.08382895\r\n3  1 0.006670024 0.02567712 0.03890700 0.06104662 0.06191714\r\n4  1 0.006507515 0.02560601 0.04088975 0.07106096 0.06911742\r\n5  1 0.007614557 0.02979995 0.04475639 0.07366522 0.07263493\r\n6  1 0.007649500 0.02975463 0.04506905 0.07024475 0.07175830\r\n       NDVI        EVI       SAVI\r\n1 0.2821098 0.05976755 0.07377707\r\n2 0.3001080 0.07435983 0.09229806\r\n3 0.2282206 0.04619273 0.05744646\r\n4 0.2565984 0.05575727 0.06941147\r\n5 0.2374838 0.05427793 0.06773307\r\n6 0.2284504 0.05193264 0.06490289\r\n\r\n# Let's use ID values to index into the Class vector. This indexing operation retrieves the class names/values that correspond to each ID value. These retrieved class names/values are then assigned to a new column called.\r\ntrain_features_clnd_pxls$Class <- train_features_clnd$Class[train_features_clnd_pxls$ID]\r\nhead(train_features_clnd_pxls)\r\n\r\n  ID        Blue      Green        Red         RE        NIR\r\n1  1 0.006558328 0.02629480 0.03789761 0.06722560 0.06768292\r\n2  1 0.007127642 0.03018280 0.04512795 0.08374609 0.08382895\r\n3  1 0.006670024 0.02567712 0.03890700 0.06104662 0.06191714\r\n4  1 0.006507515 0.02560601 0.04088975 0.07106096 0.06911742\r\n5  1 0.007614557 0.02979995 0.04475639 0.07366522 0.07263493\r\n6  1 0.007649500 0.02975463 0.04506905 0.07024475 0.07175830\r\n       NDVI        EVI       SAVI Class\r\n1 0.2821098 0.05976755 0.07377707 grass\r\n2 0.3001080 0.07435983 0.09229806 grass\r\n3 0.2282206 0.04619273 0.05744646 grass\r\n4 0.2565984 0.05575727 0.06941147 grass\r\n5 0.2374838 0.05427793 0.06773307 grass\r\n6 0.2284504 0.05193264 0.06490289 grass\r\n\r\n# now that we have the class names we don't need the ID index position\r\ntrain_features_clnd_pxls$ID <- NULL\r\n\r\nsummary(train_features_clnd_pxls)\r\n\r\n      Blue              Green               Red          \r\n Min.   :0.001006   Min.   :0.002216   Min.   :0.002351  \r\n 1st Qu.:0.006488   1st Qu.:0.022588   1st Qu.:0.023575  \r\n Median :0.008557   Median :0.029002   Median :0.034620  \r\n Mean   :0.009274   Mean   :0.029265   Mean   :0.035058  \r\n 3rd Qu.:0.011763   3rd Qu.:0.035875   3rd Qu.:0.045128  \r\n Max.   :0.029494   Max.   :0.094121   Max.   :0.131305  \r\n       RE                NIR                NDVI         \r\n Min.   :0.005442   Min.   :0.003323   Min.   :-0.07855  \r\n 1st Qu.:0.058055   1st Qu.:0.061778   1st Qu.: 0.21691  \r\n Median :0.072678   Median :0.076645   Median : 0.34773  \r\n Mean   :0.076391   Mean   :0.084564   Mean   : 0.40261  \r\n 3rd Qu.:0.090349   3rd Qu.:0.100305   3rd Qu.: 0.61267  \r\n Max.   :0.211573   Max.   :0.242752   Max.   : 0.88841  \r\n      EVI                SAVI                Class     \r\n Min.   :-0.01962   Min.   :-0.02530   bare_soil:2156  \r\n 1st Qu.: 0.04550   1st Qu.: 0.05575   grass    :5988  \r\n Median : 0.07358   Median : 0.08878   trees    :8149  \r\n Mean   : 0.10130   Mean   : 0.11685                   \r\n 3rd Qu.: 0.14868   3rd Qu.: 0.17074                   \r\n Max.   : 0.40614   Max.   : 0.41690                   \r\n\r\n3.6. Visualizing the Vegetation Classes Distribution of Training Data\r\nNow that we have assigned each band and vegetation indexes to the training polygons, let’s take a look at the distribution of each vegetation class using a histogram of frequency.\r\n\r\n\r\nval_grass <- subset(train_features_clnd_pxls, Class == \"grass\")\r\nhead(val_grass)\r\n\r\n         Blue      Green        Red         RE        NIR      NDVI\r\n1 0.006558328 0.02629480 0.03789761 0.06722560 0.06768292 0.2821098\r\n2 0.007127642 0.03018280 0.04512795 0.08374609 0.08382895 0.3001080\r\n3 0.006670024 0.02567712 0.03890700 0.06104662 0.06191714 0.2282206\r\n4 0.006507515 0.02560601 0.04088975 0.07106096 0.06911742 0.2565984\r\n5 0.007614557 0.02979995 0.04475639 0.07366522 0.07263493 0.2374838\r\n6 0.007649500 0.02975463 0.04506905 0.07024475 0.07175830 0.2284504\r\n         EVI       SAVI Class\r\n1 0.05976755 0.07377707 grass\r\n2 0.07435983 0.09229806 grass\r\n3 0.04619273 0.05744646 grass\r\n4 0.05575727 0.06941147 grass\r\n5 0.05427793 0.06773307 grass\r\n6 0.05193264 0.06490289 grass\r\n\r\nval_trees <- subset(train_features_clnd_pxls, Class == \"trees\")\r\nhead(val_trees)\r\n\r\n           Blue      Green        Red         RE        NIR      NDVI\r\n5123 0.01274861 0.03244617 0.04266209 0.07163714 0.07920165 0.2998395\r\n5124 0.01041855 0.02804318 0.03677150 0.05825589 0.06731792 0.2934633\r\n5125 0.00786923 0.01944717 0.02781994 0.04466133 0.05063920 0.2908426\r\n5126 0.01530221 0.04395438 0.05080659 0.10412344 0.11215274 0.3764507\r\n5127 0.01654933 0.05380575 0.05253895 0.14308217 0.17049882 0.5288785\r\n5128 0.01178302 0.03397559 0.03511559 0.08490883 0.10346059 0.4931945\r\n            EVI       SAVI Class\r\n5123 0.07369464 0.08813722 trees\r\n5124 0.06312248 0.07584910 trees\r\n5125 0.04924143 0.05917252 trees\r\n5126 0.11777173 0.13880071 trees\r\n5127 0.21658119 0.24471723 trees\r\n5128 0.13939068 0.16054076 trees\r\n\r\nval_bare_soil <- subset(train_features_clnd_pxls, Class == \"bare_soil\")\r\nhead(val_bare_soil)\r\n\r\n            Blue      Green        Red         RE        NIR\r\n11363 0.01098466 0.02928374 0.03323293 0.06334142 0.06236515\r\n11364 0.01298375 0.03484810 0.04463157 0.05669749 0.05331304\r\n11365 0.01331884 0.03622065 0.04737346 0.06195178 0.06458808\r\n11366 0.01330053 0.03285496 0.04463889 0.05397818 0.04485557\r\n11367 0.01359854 0.03721920 0.04782483 0.06062165 0.05441871\r\n11368 0.01355749 0.03716655 0.04862684 0.07034501 0.06854978\r\n             NDVI          EVI         SAVI     Class\r\n11363 0.304736465 0.0617533699 0.0733688227 bare_soil\r\n11364 0.088636497 0.0177357488 0.0217782723 bare_soil\r\n11365 0.153754740 0.0344585245 0.0421953440 bare_soil\r\n11366 0.002421136 0.0004465992 0.0005513494 bare_soil\r\n11367 0.064491932 0.0133007840 0.0164232973 bare_soil\r\n11368 0.170024881 0.0395726837 0.0484211666 bare_soil\r\n\r\n# NDVI\r\npar(mfrow = c(3, 1))\r\nhist(val_grass$NDVI, main = \"grass\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#e5ca81\")\r\nhist(val_trees$NDVI, main = \"trees\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#81a581\")\r\nhist(val_bare_soil$NDVI, main = \"bare_soil\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#7b6f89\")\r\n\r\n\r\n\r\n\r\n\r\n# Scatterplot and trend lines of NIR and SAVI bands \r\nplot(NDVI ~ EVI, data = val_grass, pch = \".\", col = \"#e5ca81\", xlab = \"SAVI\", ylab = \"NDVI\")\r\npoints(NDVI ~ EVI, data = val_trees, pch = \".\", col = \"#81a581\")\r\npoints(NDVI ~ EVI, data = val_bare_soil, pch = \".\", col = \"#7b6f89\")\r\n\r\n\r\nmodel_grass <- lm(NDVI ~ EVI, data = val_grass) \r\nabline(model_grass, col = \"#e5ca81\", lwd = 2)    \r\n\r\nmodel_trees <- lm(NDVI ~ EVI, data = val_trees) \r\nabline(model_trees, col = \"#81a581\", lwd = 2)   \r\n\r\n\r\nmodel_bare_soil <- lm(NDVI ~ EVI, data = val_bare_soil) \r\nabline(model_bare_soil, col = \"#7b6f89\", lwd = 2)        \r\n\r\nlegend(\"topright\", legend = c(\"grass\", \"trees\", \"bare_soil\"), \r\n       fill = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), bg = \"white\")\r\n\r\n\r\n\r\nLets visualize the three indexes for each mapped feature in a single graph\r\n\r\n\r\ntrain_features_clnd_pxls_indexes <- train_features_clnd_pxls |> \r\n  dplyr::select(c(NDVI, EVI, SAVI, Class)) |> \r\n  tidyr::pivot_longer(cols = 1:3, values_to = \"values\", names_to = \"indexes\")\r\ntrain_features_clnd_pxls_indexes\r\n\r\n# A tibble: 48,879 × 3\r\n   Class indexes values\r\n   <fct> <chr>    <dbl>\r\n 1 grass NDVI    0.282 \r\n 2 grass EVI     0.0598\r\n 3 grass SAVI    0.0738\r\n 4 grass NDVI    0.300 \r\n 5 grass EVI     0.0744\r\n 6 grass SAVI    0.0923\r\n 7 grass NDVI    0.228 \r\n 8 grass EVI     0.0462\r\n 9 grass SAVI    0.0574\r\n10 grass NDVI    0.257 \r\n# ℹ 48,869 more rows\r\n\r\n# add the distribution curve for each indexes parameter using stat_function and dnorm function\r\nggplot(train_features_clnd_pxls_indexes, \r\n                        aes(x = values, \r\n                            fill = indexes)) +\r\n  geom_density_ridges(aes(y = 0, fill = indexes, color = indexes),  \r\n                      jittered_points = TRUE, \r\n                      alpha = .5, \r\n                      scale = 1,\r\n                      point_shape = \"|\",\r\n                      point_size = 3, \r\n                      position = ggridges::position_points_jitter(width = 0.05, height = 0)) +  \r\n    geom_vline(data = train_features_clnd_pxls_indexes |> \r\n               dplyr::group_by(Class, indexes) |> \r\n               dplyr::summarise(mean = mean(values), .groups = \"drop\") |> \r\n               dplyr::ungroup(),\r\n             aes(xintercept = mean, color = indexes), linetype = \"dashed\", linewidth = 0.8) +\r\n  scale_fill_manual(values = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), labels = c(\"EVI\", \"NDVI\", \"SAVI\")) +\r\n  scale_color_manual(values = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), labels = c(\"EVI\", \"NDVI\", \"SAVI\")) +\r\n  theme_bw() + labs(x = \"\", y = \"Frequency\") +\r\n  theme(axis.title = element_text(size = 20, face = \"bold\", color = \"gray20\"),\r\n        axis.text.x.bottom = element_text(size = 14),\r\n        axis.text.y = element_text(size = 14),\r\n        legend.direction = \"horizontal\",\r\n        legend.position = \"bottom\",\r\n        legend.title = element_text(size = 16, face = \"bold\"),\r\n        legend.text = element_text(size = 14),\r\n        title = element_text(size = 18)) +\r\n  facet_wrap(~Class, ncol = 3, scales = \"free\")\r\n\r\n\r\n\r\nNow lets build the train and test data. At this stage we partition our dataset into two, thats a train and test dataset.\r\nWe train the model with the train dataset and evaluate the model perfomance using the test data.\r\nWe would use the caret function createDataPartition() to split data into training and testing sets.\r\n\r\n\r\nset.seed(124) \r\n\r\nstr(train_features_clnd_pxls)\r\n\r\n'data.frame':   16293 obs. of  9 variables:\r\n $ Blue : num  0.00656 0.00713 0.00667 0.00651 0.00761 ...\r\n $ Green: num  0.0263 0.0302 0.0257 0.0256 0.0298 ...\r\n $ Red  : num  0.0379 0.0451 0.0389 0.0409 0.0448 ...\r\n $ RE   : num  0.0672 0.0837 0.061 0.0711 0.0737 ...\r\n $ NIR  : num  0.0677 0.0838 0.0619 0.0691 0.0726 ...\r\n $ NDVI : num  0.282 0.3 0.228 0.257 0.237 ...\r\n $ EVI  : num  0.0598 0.0744 0.0462 0.0558 0.0543 ...\r\n $ SAVI : num  0.0738 0.0923 0.0574 0.0694 0.0677 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\n# partitioning the data into 80%\r\nrf_train_features_clnd_pxls_indexes <- caret::createDataPartition(train_features_clnd_pxls$Class, list = FALSE, p = 0.8)\r\n\r\n\r\nNow that we have partitioned 80% of the dataset, we will select that portion of that data to be used as train data (80%) and test data (20%)\r\nIf we check the number of rows in the new datasets and use the “rule of three” equation we can confirm that the data was properly split just as asked.\r\n\r\n\r\n# setting 80% for training - Use rf_train_features_clnd_pxls_indexes as a vector of row indices that specify which rows to extract from the train_features_clnd_pxls_indexes dataset.\r\nrf_train_data <- train_features_clnd_pxls[rf_train_features_clnd_pxls_indexes, ] \r\nstr(rf_train_data)\r\n\r\n'data.frame':   13036 obs. of  9 variables:\r\n $ Blue : num  0.00713 0.00667 0.00651 0.00765 0.0069 ...\r\n $ Green: num  0.0302 0.0257 0.0256 0.0298 0.0266 ...\r\n $ Red  : num  0.0451 0.0389 0.0409 0.0451 0.0429 ...\r\n $ RE   : num  0.0837 0.061 0.0711 0.0702 0.0714 ...\r\n $ NIR  : num  0.0838 0.0619 0.0691 0.0718 0.072 ...\r\n $ NDVI : num  0.3 0.228 0.257 0.228 0.253 ...\r\n $ EVI  : num  0.0744 0.0462 0.0558 0.0519 0.0569 ...\r\n $ SAVI : num  0.0923 0.0574 0.0694 0.0649 0.0709 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\n# setting 20% for training - Use rf_train_features_clnd_pxls_indexes as a vector of row indices that specify which rows to extract from the train_features_clnd_pxls_indexes dataset.\r\nrf_test_data <- train_features_clnd_pxls[-rf_train_features_clnd_pxls_indexes, ]\r\nstr(rf_test_data)\r\n\r\n'data.frame':   3257 obs. of  9 variables:\r\n $ Blue : num  0.00656 0.00761 0.00715 0.00664 0.00743 ...\r\n $ Green: num  0.0263 0.0298 0.0283 0.0267 0.03 ...\r\n $ Red  : num  0.0379 0.0448 0.0445 0.0414 0.0481 ...\r\n $ RE   : num  0.0672 0.0737 0.0747 0.0711 0.0801 ...\r\n $ NIR  : num  0.0677 0.0726 0.0736 0.0725 0.0817 ...\r\n $ NDVI : num  0.282 0.237 0.247 0.273 0.259 ...\r\n $ EVI  : num  0.0598 0.0543 0.0566 0.0611 0.0639 ...\r\n $ SAVI : num  0.0738 0.0677 0.0707 0.0759 0.08 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\nLets check the proportion of features selected by each set of data\r\n\r\n\r\nrf_train_data_classCount <- rf_train_data |> \r\n  dplyr::group_by(Class) |> \r\n  count()\r\n\r\nrf_train_data_classCount\r\n\r\n# A tibble: 3 × 2\r\n# Groups:   Class [3]\r\n  Class         n\r\n  <fct>     <int>\r\n1 bare_soil  1725\r\n2 grass      4791\r\n3 trees      6520\r\n\r\n\r\n\r\n(prop.table(table(rf_train_data$Class))*100)\r\n\r\n\r\nbare_soil     grass     trees \r\n 13.23259  36.75207  50.01534 \r\n\r\n\r\n\r\nrf_test_data_classCount <- rf_test_data |> \r\n  dplyr::group_by(Class) |> \r\n  count()\r\n\r\nrf_test_data_classCount\r\n\r\n# A tibble: 3 × 2\r\n# Groups:   Class [3]\r\n  Class         n\r\n  <fct>     <int>\r\n1 bare_soil   431\r\n2 grass      1197\r\n3 trees      1629\r\n\r\nProportion of the response Classes that makes up the training data.\r\n\r\n\r\n(prop.table(table(rf_test_data$Class))*100)\r\n\r\n\r\nbare_soil     grass     trees \r\n 13.23304  36.75161  50.01535 \r\n\r\nThe function trainControl generates parameters that further control how models are created\r\n\r\n\r\nset.seed(124)\r\ncvControl <- caret::trainControl(method = 'cv',\r\n                                 number = 10,\r\n                                 savePredictions = TRUE,\r\n                                 verboseIter = FALSE)\r\n\r\n\r\nrespVar <- c(\"Class\")\r\npredVar <- c(\"Blue\",\"Green\",\"Red\",\"RE\",\"NIR\",\"NDVI\",\"EVI\",\"SAVI\")\r\n\r\n\r\nrfModel <- caret::train(rf_train_data[,predVar],\r\n                        rf_train_data[,respVar],\r\n                        method=\"rf\",\r\n                        metric = \"Kappa\",\r\n                        ntree= 1000,\r\n                        trControl= cvControl,\r\n                        tuneLength=6,\r\n                        importance=TRUE)\r\n\r\nrfModel\r\n\r\nRandom Forest \r\n\r\n13036 samples\r\n    8 predictor\r\n    3 classes: 'bare_soil', 'grass', 'trees' \r\n\r\nNo pre-processing\r\nResampling: Cross-Validated (10 fold) \r\nSummary of sample sizes: 11733, 11733, 11732, 11732, 11733, 11732, ... \r\nResampling results across tuning parameters:\r\n\r\n  mtry  Accuracy   Kappa    \r\n  2     0.9282762  0.8788895\r\n  3     0.9293499  0.8808286\r\n  4     0.9301168  0.8822053\r\n  5     0.9295029  0.8811797\r\n  6     0.9298107  0.8817397\r\n  8     0.9298108  0.8817666\r\n\r\nKappa was used to select the optimal model using the largest value.\r\nThe final value used for the model was mtry = 4.\r\n\r\n\r\n\r\nplot(rfModel)\r\n\r\n\r\n\r\n\r\n\r\nplot(rfModel$finalModel)\r\n\r\n\r\n\r\n\r\n\r\nvarImpPlot(rfModel$finalModel)\r\n\r\n\r\n\r\n\r\n\r\nrfPredict <- predict(rfModel,rf_test_data)\r\nhead(rfPredict)\r\n\r\n[1] grass grass grass grass grass grass\r\nLevels: bare_soil grass trees\r\n\r\nconf_matrix <- confusionMatrix(rfPredict, rf_test_data$Class)\r\nconf_matrix\r\n\r\nConfusion Matrix and Statistics\r\n\r\n           Reference\r\nPrediction  bare_soil grass trees\r\n  bare_soil       302    41     6\r\n  grass            89  1130    26\r\n  trees            40    26  1597\r\n\r\nOverall Statistics\r\n                                          \r\n               Accuracy : 0.93            \r\n                 95% CI : (0.9207, 0.9385)\r\n    No Information Rate : 0.5002          \r\n    P-Value [Acc > NIR] : < 2.2e-16       \r\n                                          \r\n                  Kappa : 0.8813          \r\n                                          \r\n Mcnemar's Test P-Value : 2.644e-09       \r\n\r\nStatistics by Class:\r\n\r\n                     Class: bare_soil Class: grass Class: trees\r\nSensitivity                   0.70070       0.9440       0.9804\r\nSpecificity                   0.98337       0.9442       0.9595\r\nPos Pred Value                0.86533       0.9076       0.9603\r\nNeg Pred Value                0.95564       0.9667       0.9799\r\nPrevalence                    0.13233       0.3675       0.5002\r\nDetection Rate                0.09272       0.3469       0.4903\r\nDetection Prevalence          0.10715       0.3823       0.5106\r\nBalanced Accuracy             0.84203       0.9441       0.9699\r\n\r\nconf_table <- as.data.frame(conf_matrix$table)\r\n\r\ncolnames(conf_table) <- c(\"Predicted\", \"Actual\", \"Frequency\")\r\nconf_table\r\n\r\n  Predicted    Actual Frequency\r\n1 bare_soil bare_soil       302\r\n2     grass bare_soil        89\r\n3     trees bare_soil        40\r\n4 bare_soil     grass        41\r\n5     grass     grass      1130\r\n6     trees     grass        26\r\n7 bare_soil     trees         6\r\n8     grass     trees        26\r\n9     trees     trees      1597\r\n\r\nggplot(data = conf_table, aes(x = Actual, y = Predicted, fill = Frequency)) +\r\n  geom_tile(color = \"white\") +\r\n  scale_fill_gradient(low = \"white\", high = \"darkgreen\") +\r\n  geom_text(aes(label = Frequency), color = \"black\", size = 5) +\r\n  labs(title = \"Confusion Matrix Heatmap\",\r\n       x = \"Actual Labels\",\r\n       y = \"Predicted Labels\",\r\n       fill = \"Frequency\") +\r\n  theme_minimal(base_size = 14) +\r\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\r\n\r\n\r\n\r\n\r\n\r\nimage_lc_predict <- raster::predict(train_features_clnd_indexes, rfModel) \r\n\r\n\r\n\r\n\r\n#Lets define the plalette(mainly be using Hexadecimal colours).\r\npal <-c(\"#7b6f89\", \"#e5ca81\", \"#81a581\")\r\n\r\ntm_shape(image_lc_predict)+\r\n  tm_raster(style = \"cat\",labels = c(\"bare_soil\",\r\n                                     \"grass\",\r\n                                     \"trees\"),\r\n            palette = pal,\r\n            title = \"Legend\")+\r\n  tm_layout(main.title= \"\",\r\n            main.title.size =.9 )+\r\n  tm_layout(legend.outside = TRUE,\r\n            legend.outside.position = \"right\",\r\n            legend.title.size = .8)\r\n\r\n\r\n\r\n\r\n\r\nraster_lc_predict <- raster(image_lc_predict)\r\n\r\n# Define the palette for the classified raster\r\npal <- colorFactor(\r\n  palette = c(\"#7b6f89\", \"#e5ca81\", \"#81a581\"), \r\n  levels = c(1, 2, 3),\r\n  na.color = \"transparent\" \r\n)\r\n\r\n\r\nleaflet() |> \r\n  addTiles(group = \"Base Map\") |> \r\n  addRasterRGB(brick(cropped_raster_bands[[1:3]]),\r\n               r = 3, g = 2, b = 1,\r\n               group = \"RGB Image\") |> \r\n  addRasterImage(raster_lc_predict,\r\n                 colors = pal,\r\n                 opacity = 0.4,\r\n                 group = \"Land Cover Classification\") |> \r\n  addLegend(pal = pal,\r\n            values = c(1, 2, 3), \r\n            title = \"Land Cover Classification\",\r\n            labels = c(\"bare_soil\", \"grass\", \"trees\"),\r\n            position = \"bottomright\") |> \r\n    addLayersControl(\r\n    baseGroups = c(\"Base Map\", \"RGB Image\"),\r\n    overlayGroups = c(\"Land Cover Classification\"),\r\n    options = layersControlOptions(collapsed = FALSE))\r\n\r\n\r\n\r\n\r\n\r\nraster_lc_predict_df <- as.data.frame(raster_lc_predict) |> \r\n  mutate(category = case_when(\r\n    class == 1 ~ \"bare_soil\",\r\n    class == 2 ~ \"grass\",\r\n    class == 3 ~ \"trees\",\r\n    TRUE ~ NA_character_)) |> \r\n  group_by(category) |> \r\n  summarise(count = n()) |> \r\n  ungroup() |> \r\n  mutate(prop = round(((count*100)/(sum(count))), 2)) |> \r\n  arrange(desc(prop))\r\n\r\nhead(raster_lc_predict_df)\r\n\r\n# A tibble: 2 × 3\r\n  category   count  prop\r\n  <chr>      <int> <dbl>\r\n1 bare_soil 247755  79.4\r\n2 trees      64167  20.6\r\n\r\nplot_ly(raster_lc_predict_df, \r\n        x = ~category, \r\n        y = ~prop,\r\n        type = \"bar\",\r\n        text = ~prop, \r\n        textposition = 'auto') |> \r\n        layout(title = \"Vegetation Cover\",\r\n               xaxis = list(title = \"Vegetation Type\",\r\n                            tickvals = c(\"bare_soil\", \"grass\", \"trees\"),\r\n                            ticktext = c(\"Bare Soil\", \"Grass\", \"Trees\")),\r\n               yaxis = list(title = \"Cover Proportation (%)\")) \r\n\r\n\r\n\r\nPost Cover Image Credits\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2025-01-05-random_forest_sup_classific_r/RF_example.png",
    "last_modified": "2025-04-29T22:02:14-04:00",
    "input_file": {},
    "preview_width": 489,
    "preview_height": 253
  },
  {
    "path": "posts/2024-06-25-paper_species_extinction/",
    "title": "A global map of species at risk of extinction due to natural hazards",
    "description": "This study explores the global overlap between species distributions and the occurrences of earthquakes, hurricanes, tsunamis, and volcanoes, to show that 10% of all 34,035 assessed terrestrial vertebrates are at risk due to at least one natural hazard, while 5.4% are at high risk. Species at high risk are mainly found in the tropics and on islands. Exposure to natural hazards can augment anthropogenic drivers, thereby compounding their impacts.",
    "author": [],
    "date": "2024-06-25",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Fernando Gonçalves, Harith Farooq, Mike Harfoot, Mathias M Pires, Nacho Villar, Lilian Sales, Carolina Carvalho, Carolina Bello, Carine Emer, Ricardo S Bovendorp, Calebe Mendes, Gabrielle Beca, Laís Lautenschlager, Yuri Souza, Felipe Pedrosa, Claudia Paz, Valesca B Zipparro, Paula Akkawi, William Bercê, Fabiano Farah, André VL Freitas, Luís Fábio Silveira, Fábio Olmos, Jonas Geldmann, Bo Dalsgaard, Mauro Galetti\r\nAbstract\r\nAn often-overlooked question of the biodiversity crisis is how natural hazards contribute to species extinction risk. To address this issue, we explored how four natural hazards, earthquakes, hurricanes, tsunamis, and volcanoes, overlapped with the distribution ranges of amphibians, birds, mammals, and reptiles that have either narrow distributions or populations with few mature individuals. To assess which species are at risk from these natural hazards, we combined the frequency and magnitude of each natural hazard to estimate their impact. We considered species at risk if they overlapped with regions where any of the four natural hazards historically occurred (n = 3,722). Those species with at least a quarter of their range subjected to a high relative impact were considered at high risk (n = 2,001) of extinction due to natural hazards. In total, 834 reptiles, 617 amphibians, 302 birds, and 248 mammals were at high risk and they were mainly distributed on islands and in the tropics. Hurricanes (n = 983) and earthquakes (n = 868) affected most species, while tsunamis (n = 272), and volcanoes (n = 171) affected considerably fewer. The region with the highest number of species at high risk was the Pacific Ring of Fire, especially due to volcanoes, earthquakes, and tsunamis, while hurricane-related high-risk species were concentrated in the Caribbean Sea, Gulf of Mexico, and northwestern Pacific Ocean. Our study provides important information regarding the species at risk due to natural hazards and can help guide conservation attention and efforts to safeguard their survival.\r\nClick on the link below for further information about this paper: https://doi.org/10.1073/pnas.2321068121\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2024-06-25-paper_species_extinction/species_extinction.png",
    "last_modified": "2025-04-29T21:44:24-04:00",
    "input_file": {},
    "preview_width": 585,
    "preview_height": 727
  },
  {
    "path": "posts/2024-01-08-paper_tapir_latrines/",
    "title": "Communal tapir latrines are foraging sites for tropical forest vertebrates",
    "description": "Our study describes a novel foraging pattern performed by different species from a variety of habits, sizes, and groups using communal latrines as foraging sites. In the Atlantic Forest, lowland tapir latrines provide an important food resource for some omnivorous, insectivorous, and frugivorous animal species, which frequently visit and spend a substantial amount of time exploiting resources found on latrines.",
    "author": [],
    "date": "2024-01-08",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Laís Lautenschlager, Yuri Souza, Nacho Villar, Mauro Galetti, Kenneth J Feeley\r\nAbstract\r\nForaging is essential for animal survival, as it provides the nutritional resources to sustain metabolism and all activities that animals undertake. Communal latrines are sites where multiple individuals of the same species defecate and can have multiple functions. Latrine behavior has been recorded in many animal species, including lowland tapirs (Tapirus terrestris), which consume a wide variety of plants and fruits and defecate large piles of dung, sometimes containing many seeds. Due to the concentration of seeds and other defecated material, latrines may thus serve as direct sources of food for other vertebrates, including insectivores feeding on invertebrates attracted to dung. Here, we studied which vertebrate animals were recorded foraging in tapir latrines, how long they spent foraging on latrines, and how their foraging behavior varied with the time of day and days since tapir defecation. Since tapirs are generalist foragers with a large diet breadth, we expected that their feces might attract vertebrate foragers with a variety of dietary habits (e.g., frugivores, granivores, omnivores, insectivores) in distinct foraging periods within a day. We also expected that the foraging events would be greatest in the days immediately following tapir defecation. We monitored 27 tapir latrines with camera traps for six months, recording foraging vs. non-foraging behaviors. We observed nine vertebrate species foraging in tapir latrines with five frequent foragers: the frugivores Guerlinguetus brasiliensis (50% of total foraging records) and Tinamus solitarius (16%, also a granivore) and the omnivores Turdus albicollis (18%), Chamaeza campanisona (10%) and Odontophorus capueira (6%). Foraging and non-foraging events throughout the day differed significantly for G. brasiliensis (p= 0.006), T. solitarius (p= 0.01), and C. campanisona (p= 0.001), and all species were diurnal, foraging between 05:00h and 18:00h. The foraging probability of C. campanisona and T. albicollis was affected by the time lapse since tapir defecation. Our study highlights that communal latrines such as those maintained by lowland tapirs can be an important resource supply for some vertebrate consumers with different diets and could contribute to maintaining diversity in tropical forests. We call for future studies to inspect the importance of latrines as foraging sites for other species and ecosystems.\r\nClick on the link below for further information about this paper: https://doi.org/10.1016/j.gecco.2024.e02950\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2024-01-08-paper_tapir_latrines/tapir_latrine.png",
    "last_modified": "2025-04-29T21:44:24-04:00",
    "input_file": {},
    "preview_width": 2953,
    "preview_height": 2363
  },
  {
    "path": "posts/2023-09-06-atlantic_forest_infographic_project/",
    "title": "Animal species records history in the Atlantic Forest",
    "description": "This was my final project for the course \"Introduction to Infographics and Data Visualization\".",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-09-06",
    "categories": [
      "Visualization"
    ],
    "contents": "\r\nBackground\r\nI created this project as the final assignment for the Introduction to Infographics and Data Visualization course I took at the University of Miami (JMM622-O)\r\nFor this project, I focused on the Atlantic Forest and analyzed the correlation between the number of peer-reviewed papers and the number of species. To collect the necessary data, I used the ATLANTIC: Data Papers from a biodiversity hotspot section of the Ecology scientific journal, which includes all available data on specific species. To ensure the reliability and accuracy of the data, I only used the published data.\r\nI attempted to create a visual representation of the loss of forest cover in the Brazilian state using a bubble chart, with the canopy as the main theme. Below the chart, I added a heat map to show the number of published papers per year, starting from the first published paper. Although my choice of chart was primarily based on design aesthetics, I wanted to convey the message effectively. I wanted to visually represent the growth of publications over time using a tree trunk. I noticed that there was a pattern of an increasing number of publications in recent years, and so I used the color brown to represent years with fewer publications. This allowed me to create a gradient transition from the top to the bottom of the tree trunk using the same hue.\r\nI used the Sankey diagram chart to split the published papers into groups based on the number of publications per animal group and the number of recorded species per year. My aim was to demonstrate that the diversity of organisms is the foundation of the tropical forest. Using the Sankey diagram, I wanted to highlight that some species have been studied more than others and that there is a correlation between the number of studies and the number of species recorded by year. Essentially, the more research we undertake, the more species we discover. For small animal groups, it appears that we have not yet reached the expected number of species. I used linear charts to depict the number of published papers and recorded species over time, linking them to their respective Sankey curves.\r\nMotivation\r\nI chose this topic because I have noticed that some species get more attention than others. From the outset, I aimed to create a stylish infographic that would depict my data as a tree. The reason was to get more attention to the topic beyond the use of charts and graphics. In the past, we used to analyze the impact of human activity on forests through linear or bar charts. However, these charts didn’t provide a complete picture of the complex relationships between different factors. As a result, we may have become too accustomed to these charts and stopped paying attention to the details. To address this issue, I created an infographic that incorporates various types of charts to create a more engaging and informative presentation. The goal was to create something that people would find visually appealing while also providing valuable insights into the impact of human activity on forests. After analyzing the Sankey chart along with the linear charts, I believe that charts showing absolute information might obscure vital information that temporal charts can capture. By examining these charts, we can identify what ecologists refer to as “Cute species,” which are species that have an emotional impact on humans, such as primate species that are more closely related to human origin.\r\n\r\n\r\nThe following file contains the step-by-step processes I utilized to create the definitive infographic. The infographic was based on my knowledge of the topic, as well as weekly feedback from my professor. This file also contains the pipeline I employed to manipulate, clean, and process the data utilizing R Markdown.\r\n\r\n\r\nYou can check the infographic and scripts used to create it as well as the files by accessing it through my GitHub repository\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-09-06-atlantic_forest_infographic_project/atlantic_forest_infographic_project.gif",
    "last_modified": "2025-04-29T21:44:24-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-09-05-homelessness_infographic_project/",
    "title": "Homeless in New York State",
    "description": "This was my second project for the course \"Introduction to Infographics and Data Visualization\".",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-09-05",
    "categories": [
      "Visualization"
    ],
    "contents": "\r\nBackground\r\nI created this project as the first assignment for the Introduction to Infographics and Data Visualization course I took at the University of Miami (JMM622-O)\r\nAs part of this project, I decided to work with homeless students in New York State, since the main topic should be about homelessness. This is a versatile topic that can be explored in many ways. Additionally, it helped through the processes of using different charts to tell a story from a broad to a narrow perspective using Adobe Illustrator and infographic techniques. The data was obtained from National Center for Homeless Education portal and the infographic is divided into four main sections.\r\nThe first section features a line chart showing the total number of homeless students between 2009 and 2021. I chose a line chart because it makes it easier to track trends over time. Alongside the chart, I added a map of the number of homeless students per county in New York State. I chose to use counties to illustrate that this problem is widespread throughout the state.\r\nGiven that New York has 62 counties and it would be hard to make a chart representing each of them\r\nwell, in the second section I tried to show these changes using the New York economic region’s boundaries.\r\nI chose a line graph to display the data over time, as it shows the trends in the increased proportions of multiple areas simultaneously. In addition, by plotting both chart and map, I was able to avoid any overlapping lines within the chart and provide a clearer representation of the data. The map shows the proportionate increase in the number of homeless students in 2021 compared to 2009, per economic region. My aim in using both chart and map was to demonstrate that the rise in homeless students is not related to the size of the region, and that looking only at the percentage increase does not provide an accurate representation of the number of students affected in each region.\r\nIn the third section, I use a line chart to show which schools these students attend and how disproportionate it is over time. I also included a bar chart showing the proportion changes in 2021 compared to 2009.\r\nIn the fourth and final section of my project, I present the proportion of students per school grade over time using a bumpchart. I chose the bumpchart because it allows me to display the overlap between lines and trends more effectively than the line chart. Additionally, this section includes a bar chart comparing the year 2021 to 2009 for each grade. As I do not have data regarding students’ age, I used grades as a proxy to estimate the age of individuals living in homeless conditions.\r\nMotivation\r\nI chose this topic because young people are likely the social class most affected by homelessness, as they must make decisions that will impact their adult lives. Additionally, the United States has plenty of available data that allowed me to explore this topic from different angles. The infographic is based on The Economist magazine’s style.\r\n\r\n\r\nThe following file contains the step-by-step processes I utilized to create the definitive infographic. This file also contains the pipeline I employed to manipulate, clean, and process the data utilizing R Markdown.\r\n\r\n\r\nYou can check the infographic and scripts used to create it as well as the files by accessing it through my GitHub repository\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-09-05-homelessness_infographic_project/homelessness_infographic_project.gif",
    "last_modified": "2025-04-29T21:44:24-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-09-14-building-my-3rd-shinyapp/",
    "title": "Building my 3rd ShinyApp",
    "description": "This was my third experience building a ShinyApp.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-08-20",
    "categories": [
      "ShinyApp",
      "databases"
    ],
    "contents": "\r\nSharing data is a good practice for different professionals from a varying range of subjects. In the Ecology field, the data used defines and drives many questions underlying the mechanisms observed in nature. One way to achieve this goal is through collaboration and sharing information collected in literature reviews, field campaigns, and biological modeling. However, acquiring data is only sometimes pleasant and intuitive. Most of the time, it demands a degree of knowledge for storing since those data are often shared through scientific journal platforms.\r\nIn this sense, I created an application called ReSeed to display and share data from an Ecological thematic project. This app was part of a technician fellowship I received to work with Dr. Marina Cortês and her research group.\r\nThis app was also my final project for an MBA in Data Science and Analytics course I took from 2021-2023, which taught me some useful skills that I used to develop and sharpen the app. This application can be handy in exploring data patterns, and finding lacks in the dataset, being an easy tool for anyone who intends to use it. The platform is also friendly, and due to the fact it is interactive, this can be used for educational purposes as well.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-3rd-shinyapp/reseed.gif",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-04-07-um_climate_health_symposium/",
    "title": "Termites’ role as promoters of soil nutrient composition and gas flux in the Brazilian Savanna",
    "description": "This poster was presented on the 6th Climate and Health symposium",
    "author": [],
    "date": "2023-04-07",
    "categories": [
      "Poster Presentation"
    ],
    "contents": "\r\nAuthors: Yuri Souza & Amy Zanne\r\nThis poster represent the fist part of my project that I aim to carry out during the summer break. I presented these ideas on the 6th Climate and Health symposium of the University of Miami in 2023. I also created a Storytelling using ArcGIS that you can interact with the maps and get some more details about our research, you can access it by clicking here\r\nAbstract\r\nTermites are considered important ecosystem engineers and drivers of patterns and processes observed in savannas and tropical forests worldwide. Even recognizing their importance for ecosystem functioning and balance, we lack fundamental information (such as the species composition) about these invertebrates in the Brazilian Savanna, which constrains us in advance of robust and proper measurements of their importance in such an important and unique ecosystem. Therefore, we aim to survey and sample termites in the Chapada dos Veadeiros National Park (CVNP), a heterogeneous savanna comprising different guilds of termites and their structures, such as mounds and earthmounds. This park has areas ranging from flatted grasslands and forests to high mountain rocks, in which the seasonality and the shallow soil might turn the landscape into a mix of wet and dry ecosystems. The first part of my project will focus on identifying termites’ species composition, abundance, and distribution across this gradient of different areas of CVNP. In the second part, we propose to enlighten the underlying processes of termites’ role in soil biogeochemistry patterns using the environmental and local scale gradients, from nest-mounds and earthmounds to surrounding fields. For the first part, we will collect termites using survey protocols, such as linear transect and baits. The second part compares termites’ activity as drivers of soil nutrient composition, organic matter, moisture, soil structure, and carbon dioxide and methane gas flux. We hypothesize that the soil dynamic will vary according to termite composition over the CVNP. Thus, places with more termite activity would have richer nutrient soils and more atmospheric gas flux.\r\nUnfortunately, our poster size is too large, so can not load it in a high resolution on this post. Please click here to access it from my GitHub and check more details of our research.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-04-07-um_climate_health_symposium/conceptual_model.svg",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-01-06-um_grad_symposium/",
    "title": "Murundus: hotspots of biodiversity, nutrient enrichment, and gas fluxes through termite activity",
    "description": "This poster was presented on the University of Miami Graduate Student Symposium 2023",
    "author": [],
    "date": "2023-01-06",
    "categories": [
      "Poster Presentation"
    ],
    "contents": "\r\nAuthors: Yuri Souza & Amy Zanne\r\nThis poster is a draft of what I want to approach and investigate during my Ph.D. I made this presentation for the University of Miami Graduate Student Symposium 2023, which awarded me for presenting the best poster at this symposium.\r\nAbstract\r\nAbstract\r\nAbstract\r\nCampos de Murundus, or earthmounds, are discrete mounds surrounded by grass common throughout the Brazilian Savanna. Such sites favor colonization by plants and by termites, which play a significant role in ecosystem dynamics and maintenance through organic matter decomposition and gas fluxes. I aim to address how Campos de Murundus drives ecosystem dynamics in a spatial gradient. For this, we will perform a literature review to understand the role of such islands worldwide, and we will conduct fieldwork and data collection in the Brazilian Savanna Cerrado, focusing on the Campos de Murundus islands. We hypothesize the existence of a gradient of termite diversity, soil nutrient enrichment, plant functional composition, and gas fluxes increasing from an open grass field of the Savanna to the Murundus.\r\nUnfortunately, our poster size is too large, so it was impossible to load with a high resolution on this post. Please click here to access it from my GitHub and check the details of our research.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-01-06-um_grad_symposium/conceptual_model9.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 4203,
    "preview_height": 3221
  },
  {
    "path": "posts/2022-10-21-paper_tortoise_frugivory/",
    "title": "Frugivory and seed dispersal by the Red-footed Tortoise Chelonoidis carbonaria",
    "description": "Here, we assessed the maximum width of seeds this species could ingest, the mean gut retention time (GRT), and the post-consumption germination capacity for tropical fruit species.",
    "author": [],
    "date": "2022-10-21",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Lais Lautenschlager, Yuri Souza, Mauro Galetti\r\nAbstract\r\nSeed dispersal by frugivores is essential in plant life cycles, with birds and mammals the principal and well-studied dispersal agents. However, there is an increasing recognition that terrestrial tortoises could also be considered important seed dispersers in many ecosystems. The red-footed tortoise (Chelonoidis carbonaria) is one of the largest terrestrial tortoises in South America and is thought to disperse large seeds. However, little is known about their role as seed dispersers, and their potential use as restorers of defaunated areas. Here, we assessed the maximum width of seeds this species could ingest, the mean gut retention time (GRT), and the post-consumption germination capacity for tropical fruit species. Forty different fruit species were offered to eight captive individuals, obtaining a maximum seed width swallowed of 23 mm. We used four native plant species to measure the GRT within four tortoises, and we found a mean retention time of 18.92 ± 4.81 days. We also found that sex is an important indicator of GRT, with females presenting longer retention periods. This novel finding may be due to the higher metabolic defecating and dispersing rates of males. Although germination proportions varied between the four plant species used in the experiment, overall defecated seeds germinated faster than control seeds. We conclude that red-footed tortoises are potentially important seed dispersers due to their ability to swallow a large quantity and size of seeds while accelerating seed germination rates. This species should be considered a viable ecological substitute for large frugivores in rewilding projects, as C. carbonaria performs similar functions to large dispersers that have been extirpated due to defaunation processes.\r\nClick on the link below for further information about this paper: https://doi.org/10.1016/j.actao.2022.103837\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-10-21-paper_tortoise_frugivory/tortoise_frugivory.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 562,
    "preview_height": 529
  },
  {
    "path": "posts/2022-09-14-building-my-1st-shinyapp/",
    "title": "Building my 1st ShinyApp",
    "description": "This was my first experience building a ShinyApp. I created this app to host the dataset I used during my master's.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2022-09-24",
    "categories": [
      "ShinyApp",
      "databases"
    ],
    "contents": "\r\nDuring my master’s, I had the idea to make the data I used public and easily accessible to everyone. So, I found the ShinyApp structure. Since I was already working and familiar with the R language, I thought it would be good to use its package to share my data.\r\nThe idea was to create an interactive app with a website layout in which the user could see the details of the project as exploring the data information.\r\nThe project tries to understand the impact of the vertebrates’ Defaunation in the Brazilian Atlantic forest. That is why we called it DEFAU-Biota. Here the user can scroll through the app and check the information about the sampled areas, camera trap videos, fieldwork, and scientific publications, and interact with the data using a linear model.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-1st-shinyapp/defau.gif",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-09-14-building-my-2nd-shinyapp/",
    "title": "Building my 2nd ShinyApp",
    "description": "My second experience with Shiny was quite different and challenging. Here I created a CRUD app connected to SQL database management.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2022-09-24",
    "categories": [
      "ShinyApp",
      "SQL",
      "databases"
    ],
    "contents": "\r\nThis app was the most challenging experience I ever had with R and programming (Not that I have been programming a lot). The final result was very useful and pleasurable because I learned a lot. But first, let me tell you about the motivation for this App.\r\nI worked with a group led by Dr. Marina Cortês. This group collected data from fieldwork and literature, with people collaborating from different places in the world. The data consist of plant attributes/traits. One of the challenges of this kind of work is keeping the data structure since different places use dots and commas differently. You probably have experienced opening an Excel table, and the data was like a mess with small numbers or coordinates represented as it was money information. This group was facing this problem. So, there was a need for a platform that could receive and integrate the data without any problem with data formatting.\r\nThe way we found to solve this issue was by creating a CRUD (Create, Read, Update, Delete) app. The idea was to create a platform with tabs and options in which the user does not need to write, they just need to select, then decrease problems such as word formatting or number punctuation. However, these data needed to be stored in some database with real updating to avoid data overlapping or input duplication, and here my problem starts.\r\nI started the app using the Tychobra tutorial. I chose this one because 1) it was the only example available on the internet, and 2) it has an option for login, which allowed only give access to those people who were working with input data. This login option also allowed me to track the person who entered the data, making it possible to ask them about some mistakes or details on the data. However, this tutorial uses the SQLite database structure, which hosts the data locally and uses SQL structure, something I have never heard of before. So, to solve it, I needed to find a SQL structure that stores the data remotely, and I found my answer in the MySQL method through this tutorial.\r\nAt this point, I had answered two questions about my project: 1- which app structure I should use, and 2- where to store data. However, I figured it would take something necessary to intermediate the information exchange, and then I had to learn about servers. I needed to find a way to connect my table in MySQL to the app visual structure on R. I found my answer on Amazon AWS.\r\nUnfortunately, Amazon AWS is a paid server. Fortunately, it gives you 1-years of free tests. The app I show here is not on AWS anymore because my license expired. However, you can find it on my YouTube channel and check what the final version looks like.\r\nThe version I present here (https://souzayuri.shinyapps.io/CRUD_app/) is the one before I used MySQL and can give you some insights into this powerful data-collection tool and its potential to facilitate team collaborations. You can try it using this test login: yuri.souza@unesp.br, password:1234\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-2nd-shinyapp/crud.gif",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-01-22-paper_growth_form/",
    "title": "Large mammalian herbivores modulate plant growth form diversity in a tropical rainforest",
    "description": "Here, we experimentally evaluate how large mammalian herbivores affect the dominance, diversity and coexistence of these major tropical forest plant growth forms, by monitoring communities of saplings on the understorey in 43 paired exclusion plots in a long-term replicated exclusion experiment in the understorey of the Atlantic forest of Brazil.",
    "author": [],
    "date": "2022-01-22",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Yuri Souza, Nacho Villar, Valesca Zipparro, Sérgio Nazareth, Mauro Galetti\r\nAbstract\r\nThe world’s terrestrial biomes are broadly classified according to the dominant plant growth forms that define ecosystem structure and processes. Although the abundance and distribution of different plant growth forms can be strongly determined by factors such as climate and soil composition, large mammalian herbivores have a strong impact on plant communities, thus defaunation (the local or functional extinction of large animals) has the potential to alter the compositional structure of plant growth forms in natural ecosystems. Tropical rainforests sustain a high diversity of growth forms, including trees, palms, lianas, shrubs, herbs and bamboos, all of which play important ecosystem functions. Here, we experimentally evaluate how large mammalian herbivores affect the dominance, diversity and coexistence of these major tropical forest plant growth forms, by monitoring communities of saplings on the understorey in 43 paired exclusion plots in a long-term replicated exclusion experiment in the understorey of the Atlantic forest of Brazil. Over the course of 10 years large herbivore exclusion decreased diversity among growth forms, increased the absolute abundance of palms and trees (22% and 38% respectively) and increased the diversity of species within these two groups, to the detriment of other growth forms. Furthermore, all pairwise relationships between growth forms were positive on plots where herbivores had access, whereas several strong negative relationships emerged in plots where herbivores were excluded. This occurred despite strong background directional temporal trends affecting plant communities in both experimental treatments across the region. Synthesis. Our work indicates that the defaunation alters growth form dominance by favouring palms and trees while eroding diversity among growth forms and coexistence on a temporal scale. Large herbivore mammals promote diversity among growth forms, preventing the hyper-dominance of trees and palms, yet without supressing the diversity of species within growth forms. We argue that large herbivore mammals affect growth forms through several non-mutually exclusive mechanisms, including herbivory, seed dispersal and physical disturbance, as well as differential effects linked to the morphological and physiological adaptations of growth forms. We conclude that defaunation might lead to profound impacts on important ecosystem functions underpinned by growth form diversity, and result in vertical and horizontal structural simplification of tropical rainforests.\r\nClick on the link below for further information about this paper: https://besjournals.onlinelibrary.wiley.com/doi/abs/10.1111/1365-2745.13846\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-01-22-paper_growth_form/growth_form.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 516,
    "preview_height": 874
  },
  {
    "path": "posts/2021-01-14-book_defaunation/",
    "title": "Causes and consequences of large-scale defaunation in the Atlantic forest",
    "description": "In this chapter, we describe the causes and consequences of large-scale defaunation in the Atlantic Forest of South America. We identify and quantify the magnitude of the main anthropogenic drivers of defaunation and stimulate a debate on how to revert the loss of fauna to restore biodiversity and ecosystem functions and services.",
    "author": [],
    "date": "2021-01-14",
    "categories": [
      "Books"
    ],
    "contents": "\r\nAuthors: Mauro Galetti, Fernando Gonçalves, Nacho Villar, Valesca B. Zipparro, Claudia Paz, Calebe Mendes, Laís Lautenschlager, Yuri Souza, Paula Akkawi, Felipe Pedrosa, Letícia Bulascoschi, Carolina Bello, Anaiá P. Sevá, Lilian Sales, Luísa Genes, Fernanda Abra, Ricardo S. Bovendorp\r\nAbstract\r\nThe Atlantic Forest of South America hosts one of the world’s most diverse and threatened tropical forest biota. After five centuries of European human expansion, most Atlantic Forest landscapes are archipelagos of small forest fragments surrounded by open-habitat matrices. In this chapter, we describe the causes and consequences of large-scale defaunation in the Atlantic Forest of South America. We identify and quantify the magnitude of the main anthropogenic drivers of defaunation and stimulate a debate on how to revert the loss of fauna to restore biodiversity and ecosystem functions and services. The magnitude of the impact of defaunation in the Atlantic Forest is hard to estimate, but we can predict that, at large scale, habitat loss, fragmentation, and degradation are the most common threats to terrestrial populations. Other threats vary in importance according to the taxonomic group. In general, apex predators, other carnivores, large-bodied mammals, and large herbivores were among the most defaunated functional groups and the loss of these animals has also a strong impact on the ecosystem services. Given the extent of the consequences of defaunation in the Atlantic Forest, mitigation strategies are imperative. Habitat restoration would clearly be effective in building space for defaunation mitigation but reversing the pervasive defaunation that occurred in the Atlantic Forest is by no means a straightforward task. Nonetheless, it will be fundamental to assure the persistence of the biodiversity in the Atlantic Forest remnants.\r\nClick on the link below for further information about this chapter: https://link.springer.com/chapter/10.1007/978-3-030-55322-7_14\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-01-14-book_defaunation/book_defau.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 612,
    "preview_height": 452
  },
  {
    "path": "posts/2019-06-10-paper_data_paper_mammals/",
    "title": "ATLANTIC MAMMALS: a data set of assemblages of medium-and large-sized mammals of the Atlantic Forest of South America",
    "description": "Here, we present the ATLANTIC MAMMALS, an open data set on information on medium- and large-sized mammal assemblages in the Atlantic Forest of Brazil, Paraguay, and Argentina. A total of 129 studies were compiled, including published and in press peer-reviewed papers, book chapters, theses and unpublished data.",
    "author": [],
    "date": "2019-06-10",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Yuri Souza, Fernando Gonçalves, Laís Lautenschlager, Paula Akkawi,Calebe Mendes, Mariana M. Carvalho, Ricardo S. Bovendorp, Hugo Fernandes-Ferreira, Clarissa Rosa,Maurício Eduardo Graipel, Nivaldo Peroni, Jorge José Cherem, Juliano André Bogoni, Carlos Rodrigo Brocardo, João Miranda, Luciana Zago da Silva, Geruza Melo, Nilton Cáceres, Jonas Sponchiado, Milton Cezar Ribeiro, Mauro Galetti\r\nAbstract\r\nBiodiversity inventories contain important information about species richness, community structure, and composition, and are the first step in developing any conservation and mitigation strategies. The Atlantic Forest of South America is home to around 334 species of small-, medium-, and large-sized mammals, and is currently restricted to less than 12% of its original cover. Here, we present the ATLANTIC MAMMALS, an open data set on information on medium- and large-sized mammal assemblages in the Atlantic Forest of Brazil, Paraguay, and Argentina. A total of 129 studies were compiled, including published and in press peer-reviewed papers, book chapters, theses and unpublished data. We mapped 244 assemblages, eight orders, 63 genera, and 94 species (24 of which are classified as threatened by the IUCN Red List) distributed in 128 protected and 116 unprotected areas. Species richness of the mammalian assemblages varied from 1 to 39 species (mean 15). The most recorded species in the entire biome was Dasypus novemcinctus, followed by Cerdocyon thous and Procyon cancrivorous. These data can be useful in support of macroecological studies and conservation planning strategies. Please cite this data paper when the data are used in publications. We also request that researchers and teachers inform us of how they are using the data.\r\nClick on the link below for further information about this paper: https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecy.2785\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2019-06-10-paper_data_paper_mammals/data_paper_mamals.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 466,
    "preview_height": 673
  },
  {
    "path": "posts/2018-06-28-paper_data_paper_amphibians/",
    "title": "ATLANTIC AMPHIBIANS: a data set of amphibian communities from the Atlantic Forests of South America",
    "description": "Here we present a data set containing information about amphibian communities sampled throughout the Atlantic Forest Biome in South America. The data were extracted from 389 bibliographic references (articles, books, theses, and dissertations) representing inventories of amphibian communities from 1940 to 2017.",
    "author": [],
    "date": "2018-06-28",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Maurício Humberto Vancine, Kauã da Silva Duarte, Yuri Silva de Souza, João Gabriel Ribeiro Giovanelli, Paulo Mateus Martins-Sobrinho, Ariel López, Rafael Parelli Bovo, Fábio Maffei, Marília Bruzzi Lion, José Wagner Ribeiro Júnior, Ricardo Brassaloti, Carolina Ortiz Rocha da Costa, Henrique Oliveira Sawakuchi, Lucas Rodriguez Forti, Pier Cacciali, Jaime Bertoluci, Célio Fernando Baptista Haddad, Milton Cezar Ribeiro\r\nAbstract\r\nAmphibians are among the most threatened vertebrates in the world and this is also true for those inhabiting the Atlantic Forest hotspot, living in ecosystems that are highly degraded and threatened by anthropogenic activities. We present a data set containing information about amphibian communities sampled throughout the Atlantic Forest Biome in South America. The data were extracted from 389 bibliographic references (articles, books, theses, and dissertations) representing inventories of amphibian communities from 1940 to 2017. The data set includes 17,619 records of 528 species with taxonomic certainty, from 1,163 study sites. Of all the records, 14,450 (82%) were classified using the criterion of endemism; of those, 7,787 (44%) were considered endemic and 6,663 (38%) were not. Historically, multiple sampling methods were used to survey amphibians, the most representative methods being active surveys (82.1%), surveys at breeding sites (20%), pitfall traps (15.3%), and occasional encounters (14.5%). Species richness averaged 15.2 ± 11.3 (mean ± SD), ranging from 1 to 80 species per site. We found a low dominance in the communities, with 10 species occurring in about 26% of communities: Physalaemus cuvieri (4.1%), Dendropsophus minutus (3.8%), Boana faber (3.1%), Scinax fuscovarius (2.8%), Leptodactylus latrans (2.7%), Leptodactylus fuscus (2.6%), Boana albopunctata (2.3%), Dendropsophus nanus (1.6%), Rhinella ornata (1.6%), and Leptodactylus mystacinus (1.6%). This data set represents a major effort to compile inventories of amphibian communities for the Neotropical region, filling a large gap in the data on the Atlantic Forest hotspot. We hope this data set can be used as a credible tool in the proposal of new studies on amphibian sampling and even in the development of conservation planning for these taxa. This information also has great relevance for macroecological studies, being foundational for both conservation and restoration strategies in this biodiversity hotspot. No copyright or proprietary restrictions are associated with the use of this data set. Please cite this data paper when the data are used in publications or teaching events.\r\nClick on the link below for further information about this paper: https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecy.2392\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2018-06-28-paper_data_paper_amphibians/amphibians.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 384,
    "preview_height": 536
  },
  {
    "path": "posts/2018-03-20-paper_pinnus_invasion/",
    "title": "Temporal analysis of biological invasion by Pinus spp. in humid area of Cerrado domain",
    "description": "Considering the importance of life history knowledge for the mitigation of exotic species, here we sought to investigate the history of invasion by Pinus in wetlands at the Ecological Station of Itirapina, SP, using near infrared reflectance (NIR) and the Normalized Difference Vegetation Index (NDVI) for the period 1985–2011.",
    "author": [],
    "date": "2018-03-20",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Dhemerson Conciani, Yuri Silva de Souza, Paulo Henrique Peira Ruffino, Denise Zanchetta\r\nAbstract\r\nThe Cerrado domain in Brazil currently presents only 20% of its original coverage, 8.21% of which is in protected areas. Of this total, 1% is in the state of São Paulo, on private properties or protected in conservation units. In view of these environmental conditions and the richness of this system, the Cerrado is considered one of the 25 most important terrestrial sites for conservation. Despite conservation efforts, this domain is plagued by the invasion of exotic species such as the Pinus genus. Considering the importance of life history knowledge for the mitigation of exotic species, we sought to investigate the history of invasion by Pinus in wetlands at the Ecological Station of Itirapina, SP, using near infrared reflectance (NIR) and the Normalized Difference Vegetation Index (NDVI) for the period 1985–2011. Our results showed that areas with high occupation of Pinus spp. have a higher NIR reflectance value, and that such reflectance varied over the analyzed period, as well as between the areas occupied by Pinus spp. Despite this variation, the results from the NDVI showed a linear increase in the density and biomass of this vegetation for the same period, indicating that spatial limitations do not affect the development of Pinus spp. The use of NIR and NDVI measurements together proved to be a good tool for studies aiming to understand temporal patterns of invasion.\r\nClick on the link below for further information about this paper: https://periodicos.ufpe.br/revistas/rbgfe/article/view/234195/29379\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2018-03-20-paper_pinnus_invasion/pinnus.png",
    "last_modified": "2025-04-29T21:44:23-04:00",
    "input_file": {},
    "preview_width": 631,
    "preview_height": 413
  }
]
