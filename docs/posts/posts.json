[
  {
    "path": "posts/2025-01-05-random_forest_sup_classific_r/",
    "title": "Image Supervised Classification with Random Forest in R",
    "description": "Here I demonstrate how to load and visualize georeferenced spatial data along with a supervised random forest classification.\nThis is a work in progress and should be finished in the upcoming days.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2025-01-05",
    "categories": [
      "Machine Learning",
      "GIS"
    ],
    "contents": "\r\nI will divide the workflow of this tutorial into four main steps:\r\nGetting the data read\r\nTrain Model\r\nEvaluate Model\r\nClassify Image\r\nThe data used in this tutorial can be accessed HERE\r\nThe first thing we are gonna do is to load the required packages.\r\nWe will use raster and terra to deal with raster data, sf for spatial vectors data, tidyverse for tabulate date and visualization, caret for random forest, and mapview along with leaflet for data viz.\r\n\r\n\r\nif (!require(\"tidyverse\")) install.packages(\"tidyverse\")\r\nif (!require(\"terra\")) install.packages(\"terra\")\r\nif (!require(\"raster\")) install.packages(\"raster\")\r\nif (!require(\"sf\")) install.packages(\"sf\")\r\nif (!require(\"sp\")) install.packages(\"sp\")\r\nif (!require(\"caret\")) install.packages(\"caret\")\r\nif (!require(\"mapview\")) install.packages(\"mapview\")\r\nif (!require(\"leaflet\")) install.packages(\"leaflet\")\r\nif (!require(\"ggridges\")) install.packages(\"ggridges\")\r\nif (!require(\"randomForest\")) install.packages(\"randomForest\")\r\nif (!require(\"DiagrammeR\")) install.packages(\"DiagrammeR\")\r\nif (!require(\"tmap\")) install.packages(\"tmap\")\r\nif (!require(\"leafem\")) install.packages(\"leafem\")\r\nif (!require(\"plotly\")) install.packages(\"plotly\")\r\n\r\n\r\nNow, lets load our raster data and shapefile containing a few features delimited for use as training data in the random forest model.\r\n\r\n\r\nraw_raster <- terra::rast(\"woody_savanna.tif\") |> \r\n  terra::aggregate(fact=2) # original pixel size = 10.8cm, new pixel size 21.6cm (old * 2)\r\nraw_raster\r\n\r\nclass       : SpatRaster \r\ndimensions  : 759, 782, 6  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63899, -47.63742, -14.0681, -14.06662  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       : woody~nna_1, woody~nna_2, woody~nna_3, woody~nna_4, woody~nna_5, woody~nna_6 \r\nmin values  :        2.89,       16.26,       16.97,       24.26,      117.52,           0 \r\nmax values  :    65535.00,    65535.00,    65535.00,    65535.00,    65535.00,       65535 \r\n\r\nplot(raw_raster)\r\n\r\n\r\nsampled_area <- terra::vect(\"sampled_area.shp\")\r\nsampled_area\r\n\r\n class       : SpatVector \r\n geometry    : polygons \r\n dimensions  : 1, 1  (geometries, attributes)\r\n extent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\n source      : sampled_area.shp\r\n coord. ref. : lon/lat WGS 84 (EPSG:4326) \r\n names       :    Id\r\n type        : <int>\r\n values      :     0\r\n\r\nplot(sampled_area)\r\n\r\n\r\ntrain_features <- sf::st_read(\"train_features.shp\")\r\n\r\nReading layer `train_features' from data source \r\n  `F:\\souzayuri.github.io\\_posts\\2025-01-05-random_forest_sup_classific_r\\train_features.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\n\r\ntrain_features\r\n\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\nFirst 10 features:\r\n   Classcode Classname Classvalue RED GREEN BLUE Count   Shape_Leng\r\n1       <NA>     grass          1 255   255  190 16651 0.0002222801\r\n2       <NA>     grass          1 255   255  190 13637 0.0002344464\r\n3       <NA>     grass          1 255   255  190  9875 0.0001834221\r\n4       <NA>     grass          1 255   255  190 11577 0.0002181070\r\n5       <NA>     grass          1 255   255  190 10001 0.0002419869\r\n6       <NA>     grass          1 255   255  190  7684 0.0001557914\r\n7       <NA>     grass          1 255   255  190 16943 0.0002274619\r\n8       <NA>     grass          1 255   255  190  6667 0.0001647991\r\n9       <NA>     grass          1 255   255  190  2964 0.0001024218\r\n10      <NA>     grass          1 255   255  190  4238 0.0001182262\r\n     Shape_Area                       geometry\r\n1  3.318277e-09 POLYGON ((-47.63788 -14.066...\r\n2  2.717603e-09 POLYGON ((-47.63782 -14.067...\r\n3  1.967932e-09 POLYGON ((-47.63772 -14.066...\r\n4  2.307135e-09 POLYGON ((-47.63781 -14.066...\r\n5  1.993210e-09 POLYGON ((-47.63793 -14.067...\r\n6  1.531386e-09 POLYGON ((-47.63788 -14.067...\r\n7  3.376445e-09 POLYGON ((-47.63793 -14.066...\r\n8  1.328762e-09 POLYGON ((-47.63768 -14.067...\r\n9  5.907468e-10 POLYGON ((-47.63769 -14.066...\r\n10 8.447055e-10 POLYGON ((-47.63785 -14.066...\r\n\r\ntrain_features_clnd <- sf::st_read(\"train_features.shp\") |> \r\n  dplyr::rename(OBJECTID = \"Classcode\",\r\n                Class = \"Classname\") |> \r\n  dplyr::mutate(OBJECTID = as.character(1:46),\r\n                Class = as.factor(Class),\r\n                Code = as.numeric(Class)) |> \r\n  dplyr::select(c(1:3))\r\n\r\nReading layer `train_features' from data source \r\n  `F:\\souzayuri.github.io\\_posts\\2025-01-05-random_forest_sup_classific_r\\train_features.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 46 features and 9 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\n\r\ntrain_features_clnd\r\n\r\nSimple feature collection with 46 features and 3 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -47.63869 ymin: -14.06791 xmax: -47.63768 ymax: -14.06683\r\nGeodetic CRS:  WGS 84\r\nFirst 10 features:\r\n   OBJECTID Class Classvalue                       geometry\r\n1         1 grass          1 POLYGON ((-47.63788 -14.066...\r\n2         2 grass          1 POLYGON ((-47.63782 -14.067...\r\n3         3 grass          1 POLYGON ((-47.63772 -14.066...\r\n4         4 grass          1 POLYGON ((-47.63781 -14.066...\r\n5         5 grass          1 POLYGON ((-47.63793 -14.067...\r\n6         6 grass          1 POLYGON ((-47.63788 -14.067...\r\n7         7 grass          1 POLYGON ((-47.63793 -14.066...\r\n8         8 grass          1 POLYGON ((-47.63768 -14.067...\r\n9         9 grass          1 POLYGON ((-47.63769 -14.066...\r\n10       10 grass          1 POLYGON ((-47.63785 -14.066...\r\n\r\nplot(train_features_clnd)\r\n\r\n\r\n# Compare CRS\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- sf::st_transform(train_features_clnd, crs = terra::crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are different. Therefore, reprojecting to match raster projection...\"\r\n\r\n# Compare CRS\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- sf::st_transform(train_features_clnd, crs = terra::crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are identical!\"\r\n\r\n\r\n\r\nglimpse(train_features_clnd)\r\n\r\nRows: 46\r\nColumns: 4\r\n$ OBJECTID   <chr> \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"…\r\n$ Class      <fct> grass, grass, grass, grass, grass, grass, grass, …\r\n$ Classvalue <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2…\r\n$ geometry   <POLYGON [°]> POLYGON ((-47.63788 -14.066..., POLYGON (…\r\n\r\nsummary(train_features_clnd)\r\n\r\n   OBJECTID               Class      Classvalue             geometry \r\n Length:46          bare_soil:15   Min.   :1.000   POLYGON      :46  \r\n Class :character   grass    :16   1st Qu.:1.000   epsg:4326    : 0  \r\n Mode  :character   trees    :15   Median :2.000   +proj=long...: 0  \r\n                                   Mean   :1.978                     \r\n                                   3rd Qu.:3.000                     \r\n                                   Max.   :3.000                     \r\n\r\nNow, lets crop the raster and check projection\r\n\r\n\r\ncropped_raster <- terra::crop(raw_raster, sampled_area)\r\ncropped_raster\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 6  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       : woody~nna_1, woody~nna_2, woody~nna_3, woody~nna_4, woody~nna_5, woody~nna_6 \r\nmin values  :        2.89,       16.26,       16.97,       24.26,      165.85,       65535 \r\nmax values  :     3139.13,     7843.21,     9368.55,    17875.35,    20952.24,       65535 \r\n\r\nplot(cropped_raster)\r\n\r\n\r\n# Compare CRS\r\nif (terra::crs(raw_raster) == terra::crs(train_features_clnd)) {\r\n  print(\"CRS are identical!\")\r\n} else {\r\n  print(\"CRS are different. Therefore, reprojecting to match raster projection...\")\r\n  # Reproject train_features to match raw_raster\r\n  train_features_clnd <- terra::project(train_features_clnd, crs(raw_raster))\r\n}\r\n\r\n[1] \"CRS are identical!\"\r\n\r\nNow, lets rename our band composition\r\n\r\n\r\nnames(cropped_raster) <- c(\"Blue\",\"Green\",\"Red\",\"RE\",\"NIR\",\"MASK\")\r\nplot(cropped_raster)\r\n\r\n\r\n\r\nLets remove the MASK band as we will not use it\r\n\r\n\r\ncropped_raster_bands <- cropped_raster[[1:5]]\r\nplot(cropped_raster_bands)\r\n\r\n\r\n\r\nLets make a RGB band compostion and visualize it in an interactive map with viewmap\r\n\r\n\r\ntrain_class_colors <- unique(train_features_clnd$Class) |> \r\n  as.data.frame() |>\r\n  dplyr::mutate(hex = c(grass = \"#ff7f00\",\r\n                        bare_soil = \"#e41a1c\",\r\n                        tree = \"#55eed1\"))\r\ntrain_class_colors\r\n\r\n  unique(train_features_clnd$Class)     hex\r\n1                             grass #ff7f00\r\n2                             trees #e41a1c\r\n3                         bare_soil #55eed1\r\n\r\nmapview::viewRGB(brick(cropped_raster_bands[[1:3]]), \r\n                 r = 3, g = 2, b = 1,\r\n                 map.types = c(\"Esri.WorldImagery\", \"OpenStreetMap\", \"OpenTopoMap\"),\r\n                 maxpixels =  866760,\r\n                 layer.name = \"RBG Image\") + \r\n  mapview::mapView(train_features_clnd, \r\n                   zcol = \"Class\", \r\n                   color = \"black\",  \r\n                   lwd = 2,\r\n                   col.regions = train_class_colors$hex,\r\n                   layer.name = \"Features\")\r\n\r\n\r\n\r\nNow that we have checked and named the raster bands and visualized the raster overlapped with the features that will be used for training and testing the RF model, lets do an additional raster calculation to improve the model quality in identifying features. In this step we will create a map containing the calculations of the NDVI, EVI, and SAVI index using the band composition of our raster image.\r\n\r\n\r\ncropped_raster_bands_ndvi <- (cropped_raster_bands[[5]] - cropped_raster_bands[[3]]) / \r\n  (cropped_raster_bands[[5]] + cropped_raster_bands[[3]])\r\ncropped_raster_bands_ndvi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :         NIR \r\nmin value   : -0.08708532 \r\nmax value   :  0.95849029 \r\n\r\ncropped_raster_bands_evi <- 2.5 * ((cropped_raster_bands[[5]] - cropped_raster_bands[[3]]) /\r\n    (cropped_raster_bands[[5]] + 6 * cropped_raster_bands[[3]] - 7.5 * cropped_raster_bands[[1]] + 1))\r\ncropped_raster_bands_evi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :       NIR \r\nmin value   : -8.517467 \r\nmax value   : 83.766299 \r\n\r\ncropped_raster_bands_savi <- ((cropped_raster_bands[[5]] - cropped_raster_bands[[3]]) /\r\n    (cropped_raster_bands[[5]] + cropped_raster_bands[[3]] + 0.5)) * (1 + 0.5)\r\ncropped_raster_bands_savi\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 1  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nname        :        NIR \r\nmin value   : -0.1306091 \r\nmax value   :  1.4368568 \r\n\r\n# Create a red-to-green color palette\r\nred_to_green_palette <- colorRampPalette(c(\"darkred\", \"yellow\", \"darkgreen\"))\r\n# Lets visuallize them together\r\npar(mfrow = c(1, 3))\r\n\r\nplot(cropped_raster_bands_ndvi, main = \"NDVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_evi, main = \"EVI\", col = red_to_green_palette(100))\r\nplot(cropped_raster_bands_savi, main = \"SAVI\", col = red_to_green_palette(100))\r\n\r\n\r\npar(mfrow = c(1, 1))\r\n\r\n\r\nLet’s stack these three indexes in our raster data so we can have more information to feed the model. After stacking the rasters containing the indexes with our main raster, we will notice that the new rasters are named as NIR. That is because the first spectral band we used in the above calculations was the NIR band. To avoid confusion between the NIR spectral band and the new rasters indexes, we will name them according to which index they represent.\r\n\r\n\r\ntrain_features_clnd_indexes <- c(cropped_raster_bands, \r\n                                 cropped_raster_bands_ndvi,\r\n                                 cropped_raster_bands_evi, \r\n                                 cropped_raster_bands_savi)\r\ntrain_features_clnd_indexes\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :    Blue,   Green,     Red,       RE,      NIR,         NIR, ... \r\nmin values  :    2.89,   16.26,   16.97,    24.26,   165.85, -0.08708532, ... \r\nmax values  : 3139.13, 7843.21, 9368.55, 17875.35, 20952.24,  0.95849029, ... \r\n\r\nnames(train_features_clnd_indexes) <- c(names(cropped_raster_bands),\"NDVI\", \"EVI\", \"SAVI\")\r\ntrain_features_clnd_indexes\r\n\r\nclass       : SpatRaster \r\ndimensions  : 559, 558, 8  (nrow, ncol, nlyr)\r\nresolution  : 1.99956e-06, 1.95189e-06  (x, y)\r\nextent      : -47.63879, -47.63768, -14.06791, -14.06682  (xmin, xmax, ymin, ymax)\r\ncoord. ref. : lon/lat WGS 84 (EPSG:4326) \r\nsource(s)   : memory\r\nnames       :    Blue,   Green,     Red,       RE,      NIR,        NDVI, ... \r\nmin values  :    2.89,   16.26,   16.97,    24.26,   165.85, -0.08708532, ... \r\nmax values  : 3139.13, 7843.21, 9368.55, 17875.35, 20952.24,  0.95849029, ... \r\n\r\nplot(train_features_clnd_indexes)\r\n\r\n\r\n\r\nNow we have everything to move forward to prepare the data that will be use for training and testing our RF model.\r\nLets get started by extracting the pixel values for those features we mapped. These pixel values will be used to train and test the model later.\r\n\r\n\r\ntrain_features_clnd_pxls <- extract(train_features_clnd_indexes, train_features_clnd)\r\nhead(train_features_clnd_pxls)\r\n\r\n  ID   Blue   Green     Red      RE     NIR      NDVI       EVI\r\n1  1 429.80 1723.23 2483.62 4405.63 4435.60 0.2821098 0.3028237\r\n2  1 467.11 1978.03 2957.46 5488.30 5493.73 0.3001080 0.3212719\r\n3  1 437.12 1682.75 2549.77 4000.69 4057.74 0.2282206 0.2344632\r\n4  1 426.47 1678.09 2679.71 4656.98 4529.61 0.2565984 0.2656323\r\n5  1 499.02 1952.94 2933.11 4827.65 4760.13 0.2374838 0.2453411\r\n6  1 501.31 1949.97 2953.60 4603.49 4702.68 0.2284504 0.2342670\r\n       SAVI\r\n1 0.4231342\r\n2 0.4501354\r\n3 0.3423050\r\n4 0.3848709\r\n5 0.3562026\r\n6 0.3426532\r\n\r\ntrain_features_clnd_pxls$Class <- train_features_clnd$Class[train_features_clnd_pxls$ID]\r\nhead(train_features_clnd_pxls)\r\n\r\n  ID   Blue   Green     Red      RE     NIR      NDVI       EVI\r\n1  1 429.80 1723.23 2483.62 4405.63 4435.60 0.2821098 0.3028237\r\n2  1 467.11 1978.03 2957.46 5488.30 5493.73 0.3001080 0.3212719\r\n3  1 437.12 1682.75 2549.77 4000.69 4057.74 0.2282206 0.2344632\r\n4  1 426.47 1678.09 2679.71 4656.98 4529.61 0.2565984 0.2656323\r\n5  1 499.02 1952.94 2933.11 4827.65 4760.13 0.2374838 0.2453411\r\n6  1 501.31 1949.97 2953.60 4603.49 4702.68 0.2284504 0.2342670\r\n       SAVI Class\r\n1 0.4231342 grass\r\n2 0.4501354 grass\r\n3 0.3423050 grass\r\n4 0.3848709 grass\r\n5 0.3562026 grass\r\n6 0.3426532 grass\r\n\r\ntrain_features_clnd_pxls$ID <- NULL\r\n\r\nsummary(train_features_clnd_pxls)\r\n\r\n      Blue             Green             Red             RE         \r\n Min.   :  65.94   Min.   : 145.2   Min.   : 154   Min.   :  356.7  \r\n 1st Qu.: 425.17   1st Qu.:1480.3   1st Qu.:1545   1st Qu.: 3804.7  \r\n Median : 560.81   Median :1900.7   Median :2269   Median : 4763.0  \r\n Mean   : 607.79   Mean   :1917.9   Mean   :2298   Mean   : 5006.3  \r\n 3rd Qu.: 770.89   3rd Qu.:2351.1   3rd Qu.:2957   3rd Qu.: 5921.0  \r\n Max.   :1932.87   Max.   :6168.2   Max.   :8605   Max.   :13865.4  \r\n      NIR               NDVI               EVI         \r\n Min.   :  217.8   Min.   :-0.07855   Min.   :-0.0729  \r\n 1st Qu.: 4048.6   1st Qu.: 0.21691   1st Qu.: 0.2374  \r\n Median : 5022.9   Median : 0.34773   Median : 0.4421  \r\n Mean   : 5541.9   Mean   : 0.40261   Mean   : 0.6292  \r\n 3rd Qu.: 6573.5   3rd Qu.: 0.61267   3rd Qu.: 1.0327  \r\n Max.   :15908.8   Max.   : 0.88841   Max.   : 2.1119  \r\n      SAVI               Class     \r\n Min.   :-0.1178   bare_soil:2156  \r\n 1st Qu.: 0.3254   grass    :5988  \r\n Median : 0.5216   trees    :8149  \r\n Mean   : 0.6039                   \r\n 3rd Qu.: 0.9189                   \r\n Max.   : 1.3325                   \r\n\r\nNow that we have given those polygons delimitation pixel information, lets take a look at some of these pixels distribution\r\n\r\n\r\nval_grass <- subset(train_features_clnd_pxls, Class == \"grass\")\r\nhead(val_grass)\r\n\r\n    Blue   Green     Red      RE     NIR      NDVI       EVI\r\n1 429.80 1723.23 2483.62 4405.63 4435.60 0.2821098 0.3028237\r\n2 467.11 1978.03 2957.46 5488.30 5493.73 0.3001080 0.3212719\r\n3 437.12 1682.75 2549.77 4000.69 4057.74 0.2282206 0.2344632\r\n4 426.47 1678.09 2679.71 4656.98 4529.61 0.2565984 0.2656323\r\n5 499.02 1952.94 2933.11 4827.65 4760.13 0.2374838 0.2453411\r\n6 501.31 1949.97 2953.60 4603.49 4702.68 0.2284504 0.2342670\r\n       SAVI Class\r\n1 0.4231342 grass\r\n2 0.4501354 grass\r\n3 0.3423050 grass\r\n4 0.3848709 grass\r\n5 0.3562026 grass\r\n6 0.3426532 grass\r\n\r\nval_trees <- subset(train_features_clnd_pxls, Class == \"trees\")\r\nhead(val_trees)\r\n\r\n        Blue   Green     Red      RE      NIR      NDVI       EVI\r\n5123  835.48 2126.36 2795.86 4694.74  5190.48 0.2998395 0.3812958\r\n5124  682.78 1837.81 2409.82 3817.80  4411.68 0.2934633 0.3639547\r\n5125  515.71 1274.47 1823.18 2926.88  3318.64 0.2908426 0.3598006\r\n5126 1002.83 2880.55 3329.61 6823.73  7349.93 0.3764507 0.5074274\r\n5127 1084.56 3526.16 3443.14 9376.89 11173.64 0.5288785 0.8154784\r\n5128  772.20 2226.59 2301.30 5564.50  6780.29 0.4931945 0.7567093\r\n          SAVI Class\r\n5123 0.4497311 trees\r\n5124 0.4401627 trees\r\n5125 0.4362214 trees\r\n5126 0.5646496 trees\r\n5127 0.7932905 trees\r\n5128 0.7397510 trees\r\n\r\nval_bare_soil <- subset(train_features_clnd_pxls, Class == \"bare_soil\")\r\nhead(val_bare_soil)\r\n\r\n        Blue   Green     Red      RE     NIR        NDVI         EVI\r\n11363 719.88 1919.11 2177.92 4151.08 4087.10 0.304736465 0.405983246\r\n11364 850.89 2283.77 2924.93 3715.67 3493.87 0.088636497 0.097004139\r\n11365 872.85 2373.72 3104.62 4060.01 4232.78 0.153754740 0.172870271\r\n11366 871.65 2153.15 2925.41 3537.46 2939.61 0.002421136 0.002543767\r\n11367 891.18 2439.16 3134.20 3972.84 3566.33 0.064491932 0.068860180\r\n11368 888.49 2435.71 3186.76 4610.06 4492.41 0.170024881 0.192570391\r\n             SAVI     Class\r\n11363 0.457068219 bare_soil\r\n11364 0.132944390 bare_soil\r\n11365 0.230616395 bare_soil\r\n11366 0.003631395 bare_soil\r\n11367 0.096730680 bare_soil\r\n11368 0.255020717 bare_soil\r\n\r\n# NDVI\r\npar(mfrow = c(3, 1))\r\nhist(val_grass$NDVI, main = \"grass\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#e5ca81\")\r\nhist(val_trees$NDVI, main = \"trees\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#81a581\")\r\nhist(val_bare_soil$NDVI, main = \"bare_soil\", xlab = \"NDVI\", xlim = c(0, 1), col = \"#7b6f89\")\r\n\r\n\r\n\r\n\r\n\r\npar(mfrow = c(1, 1))\r\n\r\n# Scatterplot and trend lines of NIR and SAVI bands \r\nplot(NDVI ~ EVI, data = val_grass, pch = \".\", col = \"#e5ca81\", xlab = \"SAVI\", ylab = \"NDVI\")\r\npoints(NDVI ~ EVI, data = val_trees, pch = \".\", col = \"#81a581\")\r\npoints(NDVI ~ EVI, data = val_bare_soil, pch = \".\", col = \"#7b6f89\")\r\n\r\n\r\nmodel_grass <- lm(NDVI ~ EVI, data = val_grass) \r\nabline(model_grass, col = \"#e5ca81\", lwd = 2)    \r\n\r\nmodel_trees <- lm(NDVI ~ EVI, data = val_trees) \r\nabline(model_trees, col = \"#81a581\", lwd = 2)   \r\n\r\n\r\nmodel_bare_soil <- lm(NDVI ~ EVI, data = val_bare_soil) \r\nabline(model_bare_soil, col = \"#7b6f89\", lwd = 2)        \r\n\r\nlegend(\"topright\", legend = c(\"grass\", \"trees\", \"bare_soil\"), \r\n       fill = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), bg = \"white\")\r\n\r\n\r\n\r\nLets visualize the three indexes for each mapped feature in a single graph\r\n\r\n\r\ntrain_features_clnd_pxls_indexes <- train_features_clnd_pxls |> \r\n  dplyr::select(c(NDVI, EVI, SAVI, Class)) |> \r\n  tidyr::pivot_longer(cols = 1:3, values_to = \"values\", names_to = \"indexes\")\r\ntrain_features_clnd_pxls_indexes\r\n\r\n# A tibble: 48,879 × 3\r\n   Class indexes values\r\n   <fct> <chr>    <dbl>\r\n 1 grass NDVI     0.282\r\n 2 grass EVI      0.303\r\n 3 grass SAVI     0.423\r\n 4 grass NDVI     0.300\r\n 5 grass EVI      0.321\r\n 6 grass SAVI     0.450\r\n 7 grass NDVI     0.228\r\n 8 grass EVI      0.234\r\n 9 grass SAVI     0.342\r\n10 grass NDVI     0.257\r\n# ℹ 48,869 more rows\r\n\r\n# add the distribution curve for each indexes parameter using stat_function and dnorm function\r\nggplot(train_features_clnd_pxls_indexes, \r\n                        aes(x = values, \r\n                            fill = indexes)) +\r\n  geom_density_ridges(aes(y = 0, fill = indexes, color = indexes),  \r\n                      jittered_points = TRUE, \r\n                      alpha = .5, \r\n                      scale = 1,\r\n                      point_shape = \"|\",\r\n                      point_size = 3, \r\n                      position = ggridges::position_points_jitter(width = 0.05, height = 0)) +  \r\n    geom_vline(data = train_features_clnd_pxls_indexes |> \r\n               dplyr::group_by(Class, indexes) |> \r\n               dplyr::summarise(mean = mean(values), .groups = \"drop\") |> \r\n               dplyr::ungroup(),\r\n             aes(xintercept = mean, color = indexes), linetype = \"dashed\", size = 0.8) +\r\n  scale_fill_manual(values = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), labels = c(\"EVI\", \"NDVI\", \"SAVI\")) +\r\n  scale_color_manual(values = c(\"#e5ca81\", \"#7b6f89\", \"#81a581\"), labels = c(\"EVI\", \"NDVI\", \"SAVI\")) +\r\n  theme_bw() + labs(x = \"\", y = \"Frequency\") +\r\n  theme(axis.title = element_text(size = 20, face = \"bold\", color = \"gray20\"),\r\n        axis.text.x.bottom = element_text(size = 14),\r\n        axis.text.y = element_text(size = 14),\r\n        legend.direction = \"horizontal\",\r\n        legend.position = \"bottom\",\r\n        legend.title = element_text(size = 16, face = \"bold\"),\r\n        legend.text = element_text(size = 14),\r\n        title = element_text(size = 18)) +\r\n  facet_wrap(~Class, ncol = 3, scales = \"free\")\r\n\r\n\r\n\r\nNow lets build the train and test data. At this stage we partition our dataset into two, thats a train and test dataset.\r\nWe train the model with the train dataset and evaluate the model perfomance using the test data.\r\nWe would use the caret function createDataPartition() to split data into training and testing sets.\r\n\r\n\r\nset.seed(124) \r\n\r\nstr(train_features_clnd_pxls)\r\n\r\n'data.frame':   16293 obs. of  9 variables:\r\n $ Blue : num  430 467 437 426 499 ...\r\n $ Green: num  1723 1978 1683 1678 1953 ...\r\n $ Red  : num  2484 2957 2550 2680 2933 ...\r\n $ RE   : num  4406 5488 4001 4657 4828 ...\r\n $ NIR  : num  4436 5494 4058 4530 4760 ...\r\n $ NDVI : num  0.282 0.3 0.228 0.257 0.237 ...\r\n $ EVI  : num  0.303 0.321 0.234 0.266 0.245 ...\r\n $ SAVI : num  0.423 0.45 0.342 0.385 0.356 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\n# partitioning the data into 80%\r\nrf_train_features_clnd_pxls_indexes <- caret::createDataPartition(train_features_clnd_pxls$Class, list = FALSE, p = 0.8)\r\n\r\n\r\nNow that we have partitioned 80% of the dataset, we will select that portion of that data to be used as train data (80%) and test data (20%)\r\nIf we check the number of rows in the new datasets and use the “rule of three” equation we can confirm that the data was properly split just as asked.\r\n\r\n\r\n# setting 80% for training - Use rf_train_features_clnd_pxls_indexes as a vector of row indices that specify which rows to extract from the train_features_clnd_pxls_indexes dataset.\r\nrf_train_data <- train_features_clnd_pxls[rf_train_features_clnd_pxls_indexes, ] \r\nstr(rf_train_data)\r\n\r\n'data.frame':   13036 obs. of  9 variables:\r\n $ Blue : num  467 437 426 501 452 ...\r\n $ Green: num  1978 1683 1678 1950 1740 ...\r\n $ Red  : num  2957 2550 2680 2954 2814 ...\r\n $ RE   : num  5488 4001 4657 4603 4677 ...\r\n $ NIR  : num  5494 4058 4530 4703 4720 ...\r\n $ NDVI : num  0.3 0.228 0.257 0.228 0.253 ...\r\n $ EVI  : num  0.321 0.234 0.266 0.234 0.262 ...\r\n $ SAVI : num  0.45 0.342 0.385 0.343 0.379 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\n# setting 20% for training - Use rf_train_features_clnd_pxls_indexes as a vector of row indices that specify which rows to extract from the train_features_clnd_pxls_indexes dataset.\r\nrf_test_data <- train_features_clnd_pxls[-rf_train_features_clnd_pxls_indexes, ]\r\nstr(rf_test_data)\r\n\r\n'data.frame':   3257 obs. of  9 variables:\r\n $ Blue : num  430 499 469 435 487 ...\r\n $ Green: num  1723 1953 1853 1748 1969 ...\r\n $ Red  : num  2484 2933 2915 2714 3154 ...\r\n $ RE   : num  4406 4828 4898 4657 5250 ...\r\n $ NIR  : num  4436 4760 4823 4749 5357 ...\r\n $ NDVI : num  0.282 0.237 0.247 0.273 0.259 ...\r\n $ EVI  : num  0.303 0.245 0.254 0.286 0.267 ...\r\n $ SAVI : num  0.423 0.356 0.37 0.409 0.388 ...\r\n $ Class: Factor w/ 3 levels \"bare_soil\",\"grass\",..: 2 2 2 2 2 2 2 2 2 2 ...\r\n\r\nLets check the proportion of features selected by each set of data\r\n\r\n\r\nrf_train_data_classCount <- rf_train_data |> \r\n  dplyr::group_by(Class) |> \r\n  count()\r\n\r\nrf_train_data_classCount\r\n\r\n# A tibble: 3 × 2\r\n# Groups:   Class [3]\r\n  Class         n\r\n  <fct>     <int>\r\n1 bare_soil  1725\r\n2 grass      4791\r\n3 trees      6520\r\n\r\n\r\n\r\n(prop.table(table(rf_train_data$Class))*100)\r\n\r\n\r\nbare_soil     grass     trees \r\n 13.23259  36.75207  50.01534 \r\n\r\n\r\n\r\nrf_test_data_classCount <- rf_test_data |> \r\n  dplyr::group_by(Class) |> \r\n  count()\r\n\r\nrf_test_data_classCount\r\n\r\n# A tibble: 3 × 2\r\n# Groups:   Class [3]\r\n  Class         n\r\n  <fct>     <int>\r\n1 bare_soil   431\r\n2 grass      1197\r\n3 trees      1629\r\n\r\nProportion of the response Classes that makes up the training data.\r\n\r\n\r\n(prop.table(table(rf_test_data$Class))*100)\r\n\r\n\r\nbare_soil     grass     trees \r\n 13.23304  36.75161  50.01535 \r\n\r\nThe function trainControl generates parameters that further control how models are created\r\n\r\n\r\nset.seed(124)\r\ncvControl <- caret::trainControl(method = 'cv',\r\n                                 number = 10,\r\n                                 savePredictions = TRUE,\r\n                                 verboseIter = FALSE)\r\n\r\n\r\nrespVar <- c(\"Class\")\r\npredVar <- c(\"Blue\",\"Green\",\"Red\",\"RE\",\"NIR\",\"NDVI\",\"EVI\",\"SAVI\")\r\n\r\n\r\nrfModel <- caret::train(rf_train_data[,predVar],\r\n                        rf_train_data[,respVar],\r\n                        method=\"rf\",\r\n                        metric = \"Kappa\",\r\n                        ntree= 1000,\r\n                        trControl= cvControl,\r\n                        tuneLength=6,\r\n                        importance=TRUE)\r\n\r\nrfModel\r\n\r\nRandom Forest \r\n\r\n13036 samples\r\n    8 predictor\r\n    3 classes: 'bare_soil', 'grass', 'trees' \r\n\r\nNo pre-processing\r\nResampling: Cross-Validated (10 fold) \r\nSummary of sample sizes: 11733, 11733, 11732, 11732, 11733, 11732, ... \r\nResampling results across tuning parameters:\r\n\r\n  mtry  Accuracy   Kappa    \r\n  2     0.9272793  0.8773001\r\n  3     0.9282768  0.8790817\r\n  4     0.9285835  0.8796430\r\n  5     0.9292738  0.8807883\r\n  6     0.9297337  0.8815564\r\n  8     0.9290430  0.8804391\r\n\r\nKappa was used to select the optimal model using the largest value.\r\nThe final value used for the model was mtry = 6.\r\n\r\n\r\n\r\nplot(rfModel)\r\n\r\n\r\n\r\n\r\n\r\nplot(rfModel$finalModel)\r\n\r\n\r\n\r\n\r\n\r\nvarImpPlot(rfModel$finalModel)\r\n\r\n\r\n\r\n\r\n\r\nrfPredict <- predict(rfModel,rf_test_data)\r\nhead(rfPredict)\r\n\r\n[1] grass grass grass grass grass grass\r\nLevels: bare_soil grass trees\r\n\r\nconf_matrix <- confusionMatrix(rfPredict, rf_test_data$Class)\r\nconf_matrix\r\n\r\nConfusion Matrix and Statistics\r\n\r\n           Reference\r\nPrediction  bare_soil grass trees\r\n  bare_soil       299    47     9\r\n  grass            94  1126    26\r\n  trees            38    24  1594\r\n\r\nOverall Statistics\r\n                                          \r\n               Accuracy : 0.9269          \r\n                 95% CI : (0.9174, 0.9356)\r\n    No Information Rate : 0.5002          \r\n    P-Value [Acc > NIR] : < 2.2e-16       \r\n                                          \r\n                  Kappa : 0.8763          \r\n                                          \r\n Mcnemar's Test P-Value : 2.36e-07        \r\n\r\nStatistics by Class:\r\n\r\n                     Class: bare_soil Class: grass Class: trees\r\nSensitivity                    0.6937       0.9407       0.9785\r\nSpecificity                    0.9802       0.9417       0.9619\r\nPos Pred Value                 0.8423       0.9037       0.9626\r\nNeg Pred Value                 0.9545       0.9647       0.9781\r\nPrevalence                     0.1323       0.3675       0.5002\r\nDetection Rate                 0.0918       0.3457       0.4894\r\nDetection Prevalence           0.1090       0.3826       0.5084\r\nBalanced Accuracy              0.8370       0.9412       0.9702\r\n\r\nconf_table <- as.data.frame(conf_matrix$table)\r\n\r\ncolnames(conf_table) <- c(\"Predicted\", \"Actual\", \"Frequency\")\r\nconf_table\r\n\r\n  Predicted    Actual Frequency\r\n1 bare_soil bare_soil       299\r\n2     grass bare_soil        94\r\n3     trees bare_soil        38\r\n4 bare_soil     grass        47\r\n5     grass     grass      1126\r\n6     trees     grass        24\r\n7 bare_soil     trees         9\r\n8     grass     trees        26\r\n9     trees     trees      1594\r\n\r\nggplot(data = conf_table, aes(x = Actual, y = Predicted, fill = Frequency)) +\r\n  geom_tile(color = \"white\") +\r\n  scale_fill_gradient(low = \"white\", high = \"darkgreen\") +\r\n  geom_text(aes(label = Frequency), color = \"black\", size = 5) +\r\n  labs(title = \"Confusion Matrix Heatmap\",\r\n       x = \"Actual Labels\",\r\n       y = \"Predicted Labels\",\r\n       fill = \"Frequency\") +\r\n  theme_minimal(base_size = 14) +\r\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\r\n\r\n\r\n\r\n\r\n\r\nimage_lc_predict <- raster::predict(train_features_clnd_indexes, rfModel) \r\n\r\n\r\n\r\n\r\n#Lets define the plalette(mainly be using Hexadecimal colours).\r\npal <-c(\"#7b6f89\", \"#e5ca81\", \"#81a581\")\r\n\r\ntm_shape(image_lc_predict)+\r\n  tm_raster(style = \"cat\",labels = c(\"bare_soil\",\r\n                                     \"grass\",\r\n                                     \"trees\"),\r\n            palette = pal,\r\n            title = \"Legend\")+\r\n  tm_layout(main.title= \"\",\r\n            main.title.size =.9 )+\r\n  tm_layout(legend.outside = TRUE,\r\n            legend.outside.position = \"right\",\r\n            legend.title.size = .8)\r\n\r\n\r\n\r\n\r\n\r\nraster_lc_predict <- raster(image_lc_predict)\r\n\r\n# Define the palette for the classified raster\r\npal <- colorFactor(\r\n  palette = c(\"#7b6f89\", \"#e5ca81\", \"#81a581\"), \r\n  levels = c(1, 2, 3),\r\n  na.color = \"transparent\" \r\n)\r\n\r\n\r\nleaflet() |> \r\n  addTiles(group = \"Base Map\") |> \r\n  addRasterRGB(brick(cropped_raster_bands[[1:3]]),\r\n               r = 3, g = 2, b = 1,\r\n               group = \"RGB Image\") |> \r\n  addRasterImage(raster_lc_predict,\r\n                 colors = pal,\r\n                 opacity = 0.4,\r\n                 group = \"Land Cover Classification\") |> \r\n  addLegend(pal = pal,\r\n            values = c(1, 2, 3), \r\n            title = \"Land Cover Classification\",\r\n            labels = c(\"bare_soil\", \"grass\", \"trees\"),\r\n            position = \"bottomright\") |> \r\n    addLayersControl(\r\n    baseGroups = c(\"Base Map\", \"RGB Image\"),\r\n    overlayGroups = c(\"Land Cover Classification\"),\r\n    options = layersControlOptions(collapsed = FALSE))\r\n\r\n\r\n\r\n\r\n\r\nraster_lc_predict_df <- as.data.frame(raster_lc_predict) |> \r\n  mutate(category = case_when(\r\n    class == 1 ~ \"bare_soil\",\r\n    class == 2 ~ \"grass\",\r\n    class == 3 ~ \"trees\",\r\n    TRUE ~ NA_character_)) |> \r\n  group_by(category) |> \r\n  summarise(count = n()) |> \r\n  ungroup() |> \r\n  mutate(prop = round(((count*100)/(sum(count))), 2)) |> \r\n  arrange(desc(prop))\r\n\r\nhead(raster_lc_predict_df)\r\n\r\n# A tibble: 3 × 3\r\n  category   count  prop\r\n  <chr>      <int> <dbl>\r\n1 trees     230519 73.9 \r\n2 grass      57288 18.4 \r\n3 bare_soil  24115  7.73\r\n\r\nplot_ly(raster_lc_predict_df, \r\n        x = ~category, \r\n        y = ~prop,\r\n        type = \"bar\",\r\n        text = ~prop, \r\n        textposition = 'auto') |> \r\n        layout(title = \"Vegetation Cover\",\r\n               xaxis = list(title = \"Vegetation Type\",\r\n                            tickvals = c(\"bare_soil\", \"grass\", \"trees\"),\r\n                            ticktext = c(\"Bare Soil\", \"Grass\", \"Trees\")),\r\n               yaxis = list(title = \"Cover Proportation (%)\")) \r\n\r\n\r\n\r\nPost Cover Image Credits\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2025-01-05-random_forest_sup_classific_r/RF_example.png",
    "last_modified": "2025-02-02T01:47:02-05:00",
    "input_file": {},
    "preview_width": 489,
    "preview_height": 253
  },
  {
    "path": "posts/2024-06-25-paper_species_extinction/",
    "title": "A global map of species at risk of extinction due to natural hazards",
    "description": "This study explores the global overlap between species distributions and the occurrences of earthquakes, hurricanes, tsunamis, and volcanoes, to show that 10% of all 34,035 assessed terrestrial vertebrates are at risk due to at least one natural hazard, while 5.4% are at high risk. Species at high risk are mainly found in the tropics and on islands. Exposure to natural hazards can augment anthropogenic drivers, thereby compounding their impacts.",
    "author": [],
    "date": "2024-06-25",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Fernando Gonçalves, Harith Farooq, Mike Harfoot, Mathias M Pires, Nacho Villar, Lilian Sales, Carolina Carvalho, Carolina Bello, Carine Emer, Ricardo S Bovendorp, Calebe Mendes, Gabrielle Beca, Laís Lautenschlager, Yuri Souza, Felipe Pedrosa, Claudia Paz, Valesca B Zipparro, Paula Akkawi, William Bercê, Fabiano Farah, André VL Freitas, Luís Fábio Silveira, Fábio Olmos, Jonas Geldmann, Bo Dalsgaard, Mauro Galetti\r\nAbstract\r\nAn often-overlooked question of the biodiversity crisis is how natural hazards contribute to species extinction risk. To address this issue, we explored how four natural hazards, earthquakes, hurricanes, tsunamis, and volcanoes, overlapped with the distribution ranges of amphibians, birds, mammals, and reptiles that have either narrow distributions or populations with few mature individuals. To assess which species are at risk from these natural hazards, we combined the frequency and magnitude of each natural hazard to estimate their impact. We considered species at risk if they overlapped with regions where any of the four natural hazards historically occurred (n = 3,722). Those species with at least a quarter of their range subjected to a high relative impact were considered at high risk (n = 2,001) of extinction due to natural hazards. In total, 834 reptiles, 617 amphibians, 302 birds, and 248 mammals were at high risk and they were mainly distributed on islands and in the tropics. Hurricanes (n = 983) and earthquakes (n = 868) affected most species, while tsunamis (n = 272), and volcanoes (n = 171) affected considerably fewer. The region with the highest number of species at high risk was the Pacific Ring of Fire, especially due to volcanoes, earthquakes, and tsunamis, while hurricane-related high-risk species were concentrated in the Caribbean Sea, Gulf of Mexico, and northwestern Pacific Ocean. Our study provides important information regarding the species at risk due to natural hazards and can help guide conservation attention and efforts to safeguard their survival.\r\nClick on the link below for further information about this paper: https://doi.org/10.1073/pnas.2321068121\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2024-06-25-paper_species_extinction/species_extinction.png",
    "last_modified": "2024-07-15T13:38:52-04:00",
    "input_file": {},
    "preview_width": 585,
    "preview_height": 727
  },
  {
    "path": "posts/2024-01-08-paper_tapir_latrines/",
    "title": "Communal tapir latrines are foraging sites for tropical forest vertebrates",
    "description": "Our study describes a novel foraging pattern performed by different species from a variety of habits, sizes, and groups using communal latrines as foraging sites. In the Atlantic Forest, lowland tapir latrines provide an important food resource for some omnivorous, insectivorous, and frugivorous animal species, which frequently visit and spend a substantial amount of time exploiting resources found on latrines.",
    "author": [],
    "date": "2024-01-08",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Laís Lautenschlager, Yuri Souza, Nacho Villar, Mauro Galetti, Kenneth J Feeley\r\nAbstract\r\nForaging is essential for animal survival, as it provides the nutritional resources to sustain metabolism and all activities that animals undertake. Communal latrines are sites where multiple individuals of the same species defecate and can have multiple functions. Latrine behavior has been recorded in many animal species, including lowland tapirs (Tapirus terrestris), which consume a wide variety of plants and fruits and defecate large piles of dung, sometimes containing many seeds. Due to the concentration of seeds and other defecated material, latrines may thus serve as direct sources of food for other vertebrates, including insectivores feeding on invertebrates attracted to dung. Here, we studied which vertebrate animals were recorded foraging in tapir latrines, how long they spent foraging on latrines, and how their foraging behavior varied with the time of day and days since tapir defecation. Since tapirs are generalist foragers with a large diet breadth, we expected that their feces might attract vertebrate foragers with a variety of dietary habits (e.g., frugivores, granivores, omnivores, insectivores) in distinct foraging periods within a day. We also expected that the foraging events would be greatest in the days immediately following tapir defecation. We monitored 27 tapir latrines with camera traps for six months, recording foraging vs. non-foraging behaviors. We observed nine vertebrate species foraging in tapir latrines with five frequent foragers: the frugivores Guerlinguetus brasiliensis (50% of total foraging records) and Tinamus solitarius (16%, also a granivore) and the omnivores Turdus albicollis (18%), Chamaeza campanisona (10%) and Odontophorus capueira (6%). Foraging and non-foraging events throughout the day differed significantly for G. brasiliensis (p= 0.006), T. solitarius (p= 0.01), and C. campanisona (p= 0.001), and all species were diurnal, foraging between 05:00h and 18:00h. The foraging probability of C. campanisona and T. albicollis was affected by the time lapse since tapir defecation. Our study highlights that communal latrines such as those maintained by lowland tapirs can be an important resource supply for some vertebrate consumers with different diets and could contribute to maintaining diversity in tropical forests. We call for future studies to inspect the importance of latrines as foraging sites for other species and ecosystems.\r\nClick on the link below for further information about this paper: https://doi.org/10.1016/j.gecco.2024.e02950\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2024-01-08-paper_tapir_latrines/tapir_latrine.png",
    "last_modified": "2024-07-15T13:46:17-04:00",
    "input_file": {},
    "preview_width": 2953,
    "preview_height": 2363
  },
  {
    "path": "posts/2023-09-06-atlantic_forest_infographic_project/",
    "title": "Animal species records history in the Atlantic Forest",
    "description": "This was my final project for the course \"Introduction to Infographics and Data Visualization\".",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-09-06",
    "categories": [
      "Visualization"
    ],
    "contents": "\r\nBackground\r\nI created this project as the final assignment for the Introduction to Infographics and Data Visualization course I took at the University of Miami (JMM622-O)\r\nFor this project, I focused on the Atlantic Forest and analyzed the correlation between the number of peer-reviewed papers and the number of species. To collect the necessary data, I used the ATLANTIC: Data Papers from a biodiversity hotspot section of the Ecology scientific journal, which includes all available data on specific species. To ensure the reliability and accuracy of the data, I only used the published data.\r\nI attempted to create a visual representation of the loss of forest cover in the Brazilian state using a bubble chart, with the canopy as the main theme. Below the chart, I added a heat map to show the number of published papers per year, starting from the first published paper. Although my choice of chart was primarily based on design aesthetics, I wanted to convey the message effectively. I wanted to visually represent the growth of publications over time using a tree trunk. I noticed that there was a pattern of an increasing number of publications in recent years, and so I used the color brown to represent years with fewer publications. This allowed me to create a gradient transition from the top to the bottom of the tree trunk using the same hue.\r\nI used the Sankey diagram chart to split the published papers into groups based on the number of publications per animal group and the number of recorded species per year. My aim was to demonstrate that the diversity of organisms is the foundation of the tropical forest. Using the Sankey diagram, I wanted to highlight that some species have been studied more than others and that there is a correlation between the number of studies and the number of species recorded by year. Essentially, the more research we undertake, the more species we discover. For small animal groups, it appears that we have not yet reached the expected number of species. I used linear charts to depict the number of published papers and recorded species over time, linking them to their respective Sankey curves.\r\nMotivation\r\nI chose this topic because I have noticed that some species get more attention than others. From the outset, I aimed to create a stylish infographic that would depict my data as a tree. The reason was to get more attention to the topic beyond the use of charts and graphics. In the past, we used to analyze the impact of human activity on forests through linear or bar charts. However, these charts didn’t provide a complete picture of the complex relationships between different factors. As a result, we may have become too accustomed to these charts and stopped paying attention to the details. To address this issue, I created an infographic that incorporates various types of charts to create a more engaging and informative presentation. The goal was to create something that people would find visually appealing while also providing valuable insights into the impact of human activity on forests. After analyzing the Sankey chart along with the linear charts, I believe that charts showing absolute information might obscure vital information that temporal charts can capture. By examining these charts, we can identify what ecologists refer to as “Cute species,” which are species that have an emotional impact on humans, such as primate species that are more closely related to human origin.\r\n\r\n\r\nThe following file contains the step-by-step processes I utilized to create the definitive infographic. The infographic was based on my knowledge of the topic, as well as weekly feedback from my professor. This file also contains the pipeline I employed to manipulate, clean, and process the data utilizing R Markdown.\r\n\r\n\r\nYou can check the infographic and scripts used to create it as well as the files by accessing it through my GitHub repository\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-09-06-atlantic_forest_infographic_project/atlantic_forest_infographic_project.gif",
    "last_modified": "2023-10-14T21:19:01-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-09-05-homelessness_infographic_project/",
    "title": "Homeless in New York State",
    "description": "This was my second project for the course \"Introduction to Infographics and Data Visualization\".",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-09-05",
    "categories": [
      "Visualization"
    ],
    "contents": "\r\nBackground\r\nI created this project as the first assignment for the Introduction to Infographics and Data Visualization course I took at the University of Miami (JMM622-O)\r\nAs part of this project, I decided to work with homeless students in New York State, since the main topic should be about homelessness. This is a versatile topic that can be explored in many ways. Additionally, it helped through the processes of using different charts to tell a story from a broad to a narrow perspective using Adobe Illustrator and infographic techniques. The data was obtained from National Center for Homeless Education portal and the infographic is divided into four main sections.\r\nThe first section features a line chart showing the total number of homeless students between 2009 and 2021. I chose a line chart because it makes it easier to track trends over time. Alongside the chart, I added a map of the number of homeless students per county in New York State. I chose to use counties to illustrate that this problem is widespread throughout the state.\r\nGiven that New York has 62 counties and it would be hard to make a chart representing each of them\r\nwell, in the second section I tried to show these changes using the New York economic region’s boundaries.\r\nI chose a line graph to display the data over time, as it shows the trends in the increased proportions of multiple areas simultaneously. In addition, by plotting both chart and map, I was able to avoid any overlapping lines within the chart and provide a clearer representation of the data. The map shows the proportionate increase in the number of homeless students in 2021 compared to 2009, per economic region. My aim in using both chart and map was to demonstrate that the rise in homeless students is not related to the size of the region, and that looking only at the percentage increase does not provide an accurate representation of the number of students affected in each region.\r\nIn the third section, I use a line chart to show which schools these students attend and how disproportionate it is over time. I also included a bar chart showing the proportion changes in 2021 compared to 2009.\r\nIn the fourth and final section of my project, I present the proportion of students per school grade over time using a bumpchart. I chose the bumpchart because it allows me to display the overlap between lines and trends more effectively than the line chart. Additionally, this section includes a bar chart comparing the year 2021 to 2009 for each grade. As I do not have data regarding students’ age, I used grades as a proxy to estimate the age of individuals living in homeless conditions.\r\nMotivation\r\nI chose this topic because young people are likely the social class most affected by homelessness, as they must make decisions that will impact their adult lives. Additionally, the United States has plenty of available data that allowed me to explore this topic from different angles. The infographic is based on The Economist magazine’s style.\r\n\r\n\r\nThe following file contains the step-by-step processes I utilized to create the definitive infographic. This file also contains the pipeline I employed to manipulate, clean, and process the data utilizing R Markdown.\r\n\r\n\r\nYou can check the infographic and scripts used to create it as well as the files by accessing it through my GitHub repository\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-09-05-homelessness_infographic_project/homelessness_infographic_project.gif",
    "last_modified": "2023-10-15T11:23:43-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-09-14-building-my-3rd-shinyapp/",
    "title": "Building my 3rd ShinyApp",
    "description": "This was my third experience building a ShinyApp.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2023-08-20",
    "categories": [
      "ShinyApp",
      "databases"
    ],
    "contents": "\r\nSharing data is a good practice for different professionals from a varying range of subjects. In the Ecology field, the data used defines and drives many questions underlying the mechanisms observed in nature. One way to achieve this goal is through collaboration and sharing information collected in literature reviews, field campaigns, and biological modeling. However, acquiring data is only sometimes pleasant and intuitive. Most of the time, it demands a degree of knowledge for storing since those data are often shared through scientific journal platforms.\r\nIn this sense, I created an application called ReSeed to display and share data from an Ecological thematic project. This app was part of a technician fellowship I received to work with Dr. Marina Cortês and her research group.\r\nThis app was also my final project for an MBA in Data Science and Analytics course I took from 2021-2023, which taught me some useful skills that I used to develop and sharpen the app. This application can be handy in exploring data patterns, and finding lacks in the dataset, being an easy tool for anyone who intends to use it. The platform is also friendly, and due to the fact it is interactive, this can be used for educational purposes as well.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-3rd-shinyapp/reseed.gif",
    "last_modified": "2025-01-07T20:46:16-05:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-04-07-um_climate_health_symposium/",
    "title": "Termites’ role as promoters of soil nutrient composition and gas flux in the Brazilian Savanna",
    "description": "This poster was presented on the 6th Climate and Health symposium",
    "author": [],
    "date": "2023-04-07",
    "categories": [
      "Poster Presentation"
    ],
    "contents": "\r\nAuthors: Yuri Souza & Amy Zanne\r\nThis poster represent the fist part of my project that I aim to carry out during the summer break. I presented these ideas on the 6th Climate and Health symposium of the University of Miami in 2023. I also created a Storytelling using ArcGIS that you can interact with the maps and get some more details about our research, you can access it by clicking here\r\nAbstract\r\nTermites are considered important ecosystem engineers and drivers of patterns and processes observed in savannas and tropical forests worldwide. Even recognizing their importance for ecosystem functioning and balance, we lack fundamental information (such as the species composition) about these invertebrates in the Brazilian Savanna, which constrains us in advance of robust and proper measurements of their importance in such an important and unique ecosystem. Therefore, we aim to survey and sample termites in the Chapada dos Veadeiros National Park (CVNP), a heterogeneous savanna comprising different guilds of termites and their structures, such as mounds and earthmounds. This park has areas ranging from flatted grasslands and forests to high mountain rocks, in which the seasonality and the shallow soil might turn the landscape into a mix of wet and dry ecosystems. The first part of my project will focus on identifying termites’ species composition, abundance, and distribution across this gradient of different areas of CVNP. In the second part, we propose to enlighten the underlying processes of termites’ role in soil biogeochemistry patterns using the environmental and local scale gradients, from nest-mounds and earthmounds to surrounding fields. For the first part, we will collect termites using survey protocols, such as linear transect and baits. The second part compares termites’ activity as drivers of soil nutrient composition, organic matter, moisture, soil structure, and carbon dioxide and methane gas flux. We hypothesize that the soil dynamic will vary according to termite composition over the CVNP. Thus, places with more termite activity would have richer nutrient soils and more atmospheric gas flux.\r\nUnfortunately, our poster size is too large, so can not load it in a high resolution on this post. Please click here to access it from my GitHub and check more details of our research.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-04-07-um_climate_health_symposium/conceptual_model.svg",
    "last_modified": "2023-04-27T21:50:36-04:00",
    "input_file": {}
  },
  {
    "path": "posts/2023-01-06-um_grad_symposium/",
    "title": "Murundus: hotspots of biodiversity, nutrient enrichment, and gas fluxes through termite activity",
    "description": "This poster was presented on the University of Miami Graduate Student Symposium 2023",
    "author": [],
    "date": "2023-01-06",
    "categories": [
      "Poster Presentation"
    ],
    "contents": "\r\nAuthors: Yuri Souza & Amy Zanne\r\nThis poster is a draft of what I want to approach and investigate during my Ph.D. I made this presentation for the University of Miami Graduate Student Symposium 2023, which awarded me for presenting the best poster at this symposium.\r\nAbstract\r\nCampos de Murundus, or earthmounds, are discrete mounds surrounded by grass common throughout the Brazilian Savanna. Such sites favor colonization by plants and by termites, which play a significant role in ecosystem dynamics and maintenance through organic matter decomposition and gas fluxes. I aim to address how Campos de Murundus drives ecosystem dynamics in a spatial gradient. For this, we will perform a literature review to understand the role of such islands worldwide, and we will conduct fieldwork and data collection in the Brazilian Savanna Cerrado, focusing on the Campos de Murundus islands. We hypothesize the existence of a gradient of termite diversity, soil nutrient enrichment, plant functional composition, and gas fluxes increasing from an open grass field of the Savanna to the Murundus.\r\nUnfortunately, our poster size is too large, so it was impossible to load with a high resolution on this post. Please click here to access it from my GitHub and check the details of our research.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2023-01-06-um_grad_symposium/conceptual_model9.png",
    "last_modified": "2023-04-07T09:58:00-04:00",
    "input_file": {},
    "preview_width": 4203,
    "preview_height": 3221
  },
  {
    "path": "posts/2022-10-21-paper_tortoise_frugivory/",
    "title": "Frugivory and seed dispersal by the Red-footed Tortoise Chelonoidis carbonaria",
    "description": "Here, we assessed the maximum width of seeds this species could ingest, the mean gut retention time (GRT), and the post-consumption germination capacity for tropical fruit species.",
    "author": [],
    "date": "2022-10-21",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Lais Lautenschlager, Yuri Souza, Mauro Galetti\r\nAbstract\r\nSeed dispersal by frugivores is essential in plant life cycles, with birds and mammals the principal and well-studied dispersal agents. However, there is an increasing recognition that terrestrial tortoises could also be considered important seed dispersers in many ecosystems. The red-footed tortoise (Chelonoidis carbonaria) is one of the largest terrestrial tortoises in South America and is thought to disperse large seeds. However, little is known about their role as seed dispersers, and their potential use as restorers of defaunated areas. Here, we assessed the maximum width of seeds this species could ingest, the mean gut retention time (GRT), and the post-consumption germination capacity for tropical fruit species. Forty different fruit species were offered to eight captive individuals, obtaining a maximum seed width swallowed of 23 mm. We used four native plant species to measure the GRT within four tortoises, and we found a mean retention time of 18.92 ± 4.81 days. We also found that sex is an important indicator of GRT, with females presenting longer retention periods. This novel finding may be due to the higher metabolic defecating and dispersing rates of males. Although germination proportions varied between the four plant species used in the experiment, overall defecated seeds germinated faster than control seeds. We conclude that red-footed tortoises are potentially important seed dispersers due to their ability to swallow a large quantity and size of seeds while accelerating seed germination rates. This species should be considered a viable ecological substitute for large frugivores in rewilding projects, as C. carbonaria performs similar functions to large dispersers that have been extirpated due to defaunation processes.\r\nClick on the link below for further information about this paper: https://doi.org/10.1016/j.actao.2022.103837\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-10-21-paper_tortoise_frugivory/tortoise_frugivory.png",
    "last_modified": "2024-07-15T13:36:25-04:00",
    "input_file": {},
    "preview_width": 562,
    "preview_height": 529
  },
  {
    "path": "posts/2022-09-14-building-my-1st-shinyapp/",
    "title": "Building my 1st ShinyApp",
    "description": "This was my first experience building a ShinyApp. I created this app to host the dataset I used during my master's.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2022-09-24",
    "categories": [
      "ShinyApp",
      "databases"
    ],
    "contents": "\r\nDuring my master’s, I had the idea to make the data I used public and easily accessible to everyone. So, I found the ShinyApp structure. Since I was already working and familiar with the R language, I thought it would be good to use its package to share my data.\r\nThe idea was to create an interactive app with a website layout in which the user could see the details of the project as exploring the data information.\r\nThe project tries to understand the impact of the vertebrates’ Defaunation in the Brazilian Atlantic forest. That is why we called it DEFAU-Biota. Here the user can scroll through the app and check the information about the sampled areas, camera trap videos, fieldwork, and scientific publications, and interact with the data using a linear model.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-1st-shinyapp/defau.gif",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-09-14-building-my-2nd-shinyapp/",
    "title": "Building my 2nd ShinyApp",
    "description": "My second experience with Shiny was quite different and challenging. Here I created a CRUD app connected to SQL database management.",
    "author": [
      {
        "name": "Yuri Souza",
        "url": {}
      }
    ],
    "date": "2022-09-24",
    "categories": [
      "ShinyApp",
      "SQL",
      "databases"
    ],
    "contents": "\r\nThis app was the most challenging experience I ever had with R and programming (Not that I have been programming a lot). The final result was very useful and pleasurable because I learned a lot. But first, let me tell you about the motivation for this App.\r\nI worked with a group led by Dr. Marina Cortês. This group collected data from fieldwork and literature, with people collaborating from different places in the world. The data consist of plant attributes/traits. One of the challenges of this kind of work is keeping the data structure since different places use dots and commas differently. You probably have experienced opening an Excel table, and the data was like a mess with small numbers or coordinates represented as it was money information. This group was facing this problem. So, there was a need for a platform that could receive and integrate the data without any problem with data formatting.\r\nThe way we found to solve this issue was by creating a CRUD (Create, Read, Update, Delete) app. The idea was to create a platform with tabs and options in which the user does not need to write, they just need to select, then decrease problems such as word formatting or number punctuation. However, these data needed to be stored in some database with real updating to avoid data overlapping or input duplication, and here my problem starts.\r\nI started the app using the Tychobra tutorial. I chose this one because 1) it was the only example available on the internet, and 2) it has an option for login, which allowed only give access to those people who were working with input data. This login option also allowed me to track the person who entered the data, making it possible to ask them about some mistakes or details on the data. However, this tutorial uses the SQLite database structure, which hosts the data locally and uses SQL structure, something I have never heard of before. So, to solve it, I needed to find a SQL structure that stores the data remotely, and I found my answer in the MySQL method through this tutorial.\r\nAt this point, I had answered two questions about my project: 1- which app structure I should use, and 2- where to store data. However, I figured it would take something necessary to intermediate the information exchange, and then I had to learn about servers. I needed to find a way to connect my table in MySQL to the app visual structure on R. I found my answer on Amazon AWS.\r\nUnfortunately, Amazon AWS is a paid server. Fortunately, it gives you 1-years of free tests. The app I show here is not on AWS anymore because my license expired. However, you can find it on my YouTube channel and check what the final version looks like.\r\nThe version I present here (https://souzayuri.shinyapps.io/CRUD_app/) is the one before I used MySQL and can give you some insights into this powerful data-collection tool and its potential to facilitate team collaborations. You can try it using this test login: yuri.souza@unesp.br, password:1234\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-09-14-building-my-2nd-shinyapp/crud.gif",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-01-22-paper_growth_form/",
    "title": "Large mammalian herbivores modulate plant growth form diversity in a tropical rainforest",
    "description": "Here, we experimentally evaluate how large mammalian herbivores affect the dominance, diversity and coexistence of these major tropical forest plant growth forms, by monitoring communities of saplings on the understorey in 43 paired exclusion plots in a long-term replicated exclusion experiment in the understorey of the Atlantic forest of Brazil.",
    "author": [],
    "date": "2022-01-22",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Yuri Souza, Nacho Villar, Valesca Zipparro, Sérgio Nazareth, Mauro Galetti\r\nAbstract\r\nThe world’s terrestrial biomes are broadly classified according to the dominant plant growth forms that define ecosystem structure and processes. Although the abundance and distribution of different plant growth forms can be strongly determined by factors such as climate and soil composition, large mammalian herbivores have a strong impact on plant communities, thus defaunation (the local or functional extinction of large animals) has the potential to alter the compositional structure of plant growth forms in natural ecosystems. Tropical rainforests sustain a high diversity of growth forms, including trees, palms, lianas, shrubs, herbs and bamboos, all of which play important ecosystem functions. Here, we experimentally evaluate how large mammalian herbivores affect the dominance, diversity and coexistence of these major tropical forest plant growth forms, by monitoring communities of saplings on the understorey in 43 paired exclusion plots in a long-term replicated exclusion experiment in the understorey of the Atlantic forest of Brazil. Over the course of 10 years large herbivore exclusion decreased diversity among growth forms, increased the absolute abundance of palms and trees (22% and 38% respectively) and increased the diversity of species within these two groups, to the detriment of other growth forms. Furthermore, all pairwise relationships between growth forms were positive on plots where herbivores had access, whereas several strong negative relationships emerged in plots where herbivores were excluded. This occurred despite strong background directional temporal trends affecting plant communities in both experimental treatments across the region. Synthesis. Our work indicates that the defaunation alters growth form dominance by favouring palms and trees while eroding diversity among growth forms and coexistence on a temporal scale. Large herbivore mammals promote diversity among growth forms, preventing the hyper-dominance of trees and palms, yet without supressing the diversity of species within growth forms. We argue that large herbivore mammals affect growth forms through several non-mutually exclusive mechanisms, including herbivory, seed dispersal and physical disturbance, as well as differential effects linked to the morphological and physiological adaptations of growth forms. We conclude that defaunation might lead to profound impacts on important ecosystem functions underpinned by growth form diversity, and result in vertical and horizontal structural simplification of tropical rainforests.\r\nClick on the link below for further information about this paper: https://besjournals.onlinelibrary.wiley.com/doi/abs/10.1111/1365-2745.13846\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2022-01-22-paper_growth_form/growth_form.png",
    "last_modified": "2024-07-15T13:37:20-04:00",
    "input_file": {},
    "preview_width": 516,
    "preview_height": 874
  },
  {
    "path": "posts/2021-01-14-book_defaunation/",
    "title": "Causes and consequences of large-scale defaunation in the Atlantic forest",
    "description": "In this chapter, we describe the causes and consequences of large-scale defaunation in the Atlantic Forest of South America. We identify and quantify the magnitude of the main anthropogenic drivers of defaunation and stimulate a debate on how to revert the loss of fauna to restore biodiversity and ecosystem functions and services.",
    "author": [],
    "date": "2021-01-14",
    "categories": [
      "Books"
    ],
    "contents": "\r\nAuthors: Mauro Galetti, Fernando Gonçalves, Nacho Villar, Valesca B. Zipparro, Claudia Paz, Calebe Mendes, Laís Lautenschlager, Yuri Souza, Paula Akkawi, Felipe Pedrosa, Letícia Bulascoschi, Carolina Bello, Anaiá P. Sevá, Lilian Sales, Luísa Genes, Fernanda Abra, Ricardo S. Bovendorp\r\nAbstract\r\nThe Atlantic Forest of South America hosts one of the world’s most diverse and threatened tropical forest biota. After five centuries of European human expansion, most Atlantic Forest landscapes are archipelagos of small forest fragments surrounded by open-habitat matrices. In this chapter, we describe the causes and consequences of large-scale defaunation in the Atlantic Forest of South America. We identify and quantify the magnitude of the main anthropogenic drivers of defaunation and stimulate a debate on how to revert the loss of fauna to restore biodiversity and ecosystem functions and services. The magnitude of the impact of defaunation in the Atlantic Forest is hard to estimate, but we can predict that, at large scale, habitat loss, fragmentation, and degradation are the most common threats to terrestrial populations. Other threats vary in importance according to the taxonomic group. In general, apex predators, other carnivores, large-bodied mammals, and large herbivores were among the most defaunated functional groups and the loss of these animals has also a strong impact on the ecosystem services. Given the extent of the consequences of defaunation in the Atlantic Forest, mitigation strategies are imperative. Habitat restoration would clearly be effective in building space for defaunation mitigation but reversing the pervasive defaunation that occurred in the Atlantic Forest is by no means a straightforward task. Nonetheless, it will be fundamental to assure the persistence of the biodiversity in the Atlantic Forest remnants.\r\nClick on the link below for further information about this chapter: https://link.springer.com/chapter/10.1007/978-3-030-55322-7_14\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-01-14-book_defaunation/book_defau.png",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {},
    "preview_width": 612,
    "preview_height": 452
  },
  {
    "path": "posts/2019-06-10-paper_data_paper_mammals/",
    "title": "ATLANTIC MAMMALS: a data set of assemblages of medium-and large-sized mammals of the Atlantic Forest of South America",
    "description": "Here, we present the ATLANTIC MAMMALS, an open data set on information on medium- and large-sized mammal assemblages in the Atlantic Forest of Brazil, Paraguay, and Argentina. A total of 129 studies were compiled, including published and in press peer-reviewed papers, book chapters, theses and unpublished data.",
    "author": [],
    "date": "2019-06-10",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Yuri Souza, Fernando Gonçalves, Laís Lautenschlager, Paula Akkawi,Calebe Mendes, Mariana M. Carvalho, Ricardo S. Bovendorp, Hugo Fernandes-Ferreira, Clarissa Rosa,Maurício Eduardo Graipel, Nivaldo Peroni, Jorge José Cherem, Juliano André Bogoni, Carlos Rodrigo Brocardo, João Miranda, Luciana Zago da Silva, Geruza Melo, Nilton Cáceres, Jonas Sponchiado, Milton Cezar Ribeiro, Mauro Galetti\r\nAbstract\r\nBiodiversity inventories contain important information about species richness, community structure, and composition, and are the first step in developing any conservation and mitigation strategies. The Atlantic Forest of South America is home to around 334 species of small-, medium-, and large-sized mammals, and is currently restricted to less than 12% of its original cover. Here, we present the ATLANTIC MAMMALS, an open data set on information on medium- and large-sized mammal assemblages in the Atlantic Forest of Brazil, Paraguay, and Argentina. A total of 129 studies were compiled, including published and in press peer-reviewed papers, book chapters, theses and unpublished data. We mapped 244 assemblages, eight orders, 63 genera, and 94 species (24 of which are classified as threatened by the IUCN Red List) distributed in 128 protected and 116 unprotected areas. Species richness of the mammalian assemblages varied from 1 to 39 species (mean 15). The most recorded species in the entire biome was Dasypus novemcinctus, followed by Cerdocyon thous and Procyon cancrivorous. These data can be useful in support of macroecological studies and conservation planning strategies. Please cite this data paper when the data are used in publications. We also request that researchers and teachers inform us of how they are using the data.\r\nClick on the link below for further information about this paper: https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecy.2785\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2019-06-10-paper_data_paper_mammals/data_paper_mamals.png",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {},
    "preview_width": 466,
    "preview_height": 673
  },
  {
    "path": "posts/2018-06-28-paper_data_paper_amphibians/",
    "title": "ATLANTIC AMPHIBIANS: a data set of amphibian communities from the Atlantic Forests of South America",
    "description": "Here we present a data set containing information about amphibian communities sampled throughout the Atlantic Forest Biome in South America. The data were extracted from 389 bibliographic references (articles, books, theses, and dissertations) representing inventories of amphibian communities from 1940 to 2017.",
    "author": [],
    "date": "2018-06-28",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Maurício Humberto Vancine, Kauã da Silva Duarte, Yuri Silva de Souza, João Gabriel Ribeiro Giovanelli, Paulo Mateus Martins-Sobrinho, Ariel López, Rafael Parelli Bovo, Fábio Maffei, Marília Bruzzi Lion, José Wagner Ribeiro Júnior, Ricardo Brassaloti, Carolina Ortiz Rocha da Costa, Henrique Oliveira Sawakuchi, Lucas Rodriguez Forti, Pier Cacciali, Jaime Bertoluci, Célio Fernando Baptista Haddad, Milton Cezar Ribeiro\r\nAbstract\r\nAmphibians are among the most threatened vertebrates in the world and this is also true for those inhabiting the Atlantic Forest hotspot, living in ecosystems that are highly degraded and threatened by anthropogenic activities. We present a data set containing information about amphibian communities sampled throughout the Atlantic Forest Biome in South America. The data were extracted from 389 bibliographic references (articles, books, theses, and dissertations) representing inventories of amphibian communities from 1940 to 2017. The data set includes 17,619 records of 528 species with taxonomic certainty, from 1,163 study sites. Of all the records, 14,450 (82%) were classified using the criterion of endemism; of those, 7,787 (44%) were considered endemic and 6,663 (38%) were not. Historically, multiple sampling methods were used to survey amphibians, the most representative methods being active surveys (82.1%), surveys at breeding sites (20%), pitfall traps (15.3%), and occasional encounters (14.5%). Species richness averaged 15.2 ± 11.3 (mean ± SD), ranging from 1 to 80 species per site. We found a low dominance in the communities, with 10 species occurring in about 26% of communities: Physalaemus cuvieri (4.1%), Dendropsophus minutus (3.8%), Boana faber (3.1%), Scinax fuscovarius (2.8%), Leptodactylus latrans (2.7%), Leptodactylus fuscus (2.6%), Boana albopunctata (2.3%), Dendropsophus nanus (1.6%), Rhinella ornata (1.6%), and Leptodactylus mystacinus (1.6%). This data set represents a major effort to compile inventories of amphibian communities for the Neotropical region, filling a large gap in the data on the Atlantic Forest hotspot. We hope this data set can be used as a credible tool in the proposal of new studies on amphibian sampling and even in the development of conservation planning for these taxa. This information also has great relevance for macroecological studies, being foundational for both conservation and restoration strategies in this biodiversity hotspot. No copyright or proprietary restrictions are associated with the use of this data set. Please cite this data paper when the data are used in publications or teaching events.\r\nClick on the link below for further information about this paper: https://esajournals.onlinelibrary.wiley.com/doi/full/10.1002/ecy.2392\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2018-06-28-paper_data_paper_amphibians/amphibians.png",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {},
    "preview_width": 384,
    "preview_height": 536
  },
  {
    "path": "posts/2018-03-20-paper_pinnus_invasion/",
    "title": "Temporal analysis of biological invasion by Pinus spp. in humid area of Cerrado domain",
    "description": "Considering the importance of life history knowledge for the mitigation of exotic species, here we sought to investigate the history of invasion by Pinus in wetlands at the Ecological Station of Itirapina, SP, using near infrared reflectance (NIR) and the Normalized Difference Vegetation Index (NDVI) for the period 1985–2011.",
    "author": [],
    "date": "2018-03-20",
    "categories": [
      "Papers"
    ],
    "contents": "\r\nAuthors: Dhemerson Conciani, Yuri Silva de Souza, Paulo Henrique Peira Ruffino, Denise Zanchetta\r\nAbstract\r\nThe Cerrado domain in Brazil currently presents only 20% of its original coverage, 8.21% of which is in protected areas. Of this total, 1% is in the state of São Paulo, on private properties or protected in conservation units. In view of these environmental conditions and the richness of this system, the Cerrado is considered one of the 25 most important terrestrial sites for conservation. Despite conservation efforts, this domain is plagued by the invasion of exotic species such as the Pinus genus. Considering the importance of life history knowledge for the mitigation of exotic species, we sought to investigate the history of invasion by Pinus in wetlands at the Ecological Station of Itirapina, SP, using near infrared reflectance (NIR) and the Normalized Difference Vegetation Index (NDVI) for the period 1985–2011. Our results showed that areas with high occupation of Pinus spp. have a higher NIR reflectance value, and that such reflectance varied over the analyzed period, as well as between the areas occupied by Pinus spp. Despite this variation, the results from the NDVI showed a linear increase in the density and biomass of this vegetation for the same period, indicating that spatial limitations do not affect the development of Pinus spp. The use of NIR and NDVI measurements together proved to be a good tool for studies aiming to understand temporal patterns of invasion.\r\nClick on the link below for further information about this paper: https://periodicos.ufpe.br/revistas/rbgfe/article/view/234195/29379\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2018-03-20-paper_pinnus_invasion/pinnus.png",
    "last_modified": "2022-12-03T00:58:06-05:00",
    "input_file": {},
    "preview_width": 631,
    "preview_height": 413
  }
]
